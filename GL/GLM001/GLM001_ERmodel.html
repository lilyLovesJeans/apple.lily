<hr>
<h2 id="title-01-GLM001-GLM001A-傳票維護-ER-Modeldate-2024-09-28-21-23-37permalink-GL-GLM001-GLM001-ERmodel-categories-WDStags-C-SA-UML-GL-description-01-GLM001-GLM001A-傳票維護-ER-Model"><a href="#title-01-GLM001-GLM001A-傳票維護-ER-Modeldate-2024-09-28-21-23-37permalink-GL-GLM001-GLM001-ERmodel-categories-WDStags-C-SA-UML-GL-description-01-GLM001-GLM001A-傳票維護-ER-Model" class="headerlink" title="title: 01_GLM001(GLM001A)傳票維護_ER-Modeldate: 2024-09-28 21:23:37permalink: &#x2F;GL&#x2F;GLM001&#x2F;GLM001_ERmodel&#x2F;categories: WDStags: [C# , SA , UML ,GL]description: 01_GLM001(GLM001A)傳票維護_ER-Model"></a>title: 01_GLM001(GLM001A)傳票維護_ER-Model<br>date: 2024-09-28 21:23:37<br>permalink: &#x2F;GL&#x2F;GLM001&#x2F;GLM001_ERmodel&#x2F;<br>categories: WDS<br>tags: [C# , SA , UML ,GL]<br>description: 01_GLM001(GLM001A)傳票維護_ER-Model</h2><h2 id="01-GLM001-GLM001A-傳票維護-ER-Model"><a href="#01-GLM001-GLM001A-傳票維護-ER-Model" class="headerlink" title="01_GLM001(GLM001A)傳票維護_ER-Model"></a>01_GLM001(GLM001A)傳票維護_ER-Model</h2><p><img src="/apple.lily/GL/GLM001/GLM001_ERmodel/01_GLM001(GLM001A)%E5%82%B3%E7%A5%A8%E7%B6%AD%E8%AD%B7_ER-Model.png"></p>
<p> <code>GLM001(GLM001A)傳票維護</code> 中提到的資料表：</p>
<h3 id="1-GL-VOUCHER-MASTER（傳票主檔）"><a href="#1-GL-VOUCHER-MASTER（傳票主檔）" class="headerlink" title="1. GL_VOUCHER_MASTER（傳票主檔）"></a><strong>1. GL_VOUCHER_MASTER（傳票主檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票編號</td>
</tr>
<tr>
<td>ACCNT_YEAR</td>
<td>VARCHAR2(4)</td>
<td>年度</td>
</tr>
<tr>
<td>ACCNT_PERIOD</td>
<td>VARCHAR2(2)</td>
<td>會計期間</td>
</tr>
<tr>
<td>VOUCHER_DATE</td>
<td>DATE</td>
<td>傳票日期</td>
</tr>
<tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(4)</td>
<td>公司別</td>
</tr>
<tr>
<td>ACCNT_CREATOR</td>
<td>VARCHAR2(10)</td>
<td>製票員</td>
</tr>
<tr>
<td>LAST_UPDATE_DATE</td>
<td>DATE</td>
<td>最近維護日</td>
</tr>
<tr>
<td>PRINT_CODE</td>
<td>VARCHAR2(1)</td>
<td>列印碼</td>
</tr>
<tr>
<td>DELETE_CODE</td>
<td>VARCHAR2(1)</td>
<td>刪除碼</td>
</tr>
</tbody></table>
<h3 id="2-GL-VOUCHER-DETAIL（傳票明細檔）"><a href="#2-GL-VOUCHER-DETAIL（傳票明細檔）" class="headerlink" title="2. GL_VOUCHER_DETAIL（傳票明細檔）"></a><strong>2. GL_VOUCHER_DETAIL（傳票明細檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>ACCNT_NO</td>
<td>VARCHAR2(10)</td>
<td>科目代號</td>
</tr>
<tr>
<td>SEQ_NO</td>
<td>NUMBER(4)</td>
<td>序號</td>
</tr>
<tr>
<td>UNIT_ID</td>
<td>VARCHAR2(7)</td>
<td>單位別</td>
</tr>
<tr>
<td>OBJECT_NO</td>
<td>VARCHAR2(10)</td>
<td>對象代號</td>
</tr>
<tr>
<td>RELATION_NO</td>
<td>VARCHAR2(15)</td>
<td>相關號碼</td>
</tr>
<tr>
<td>RELATION_DATE</td>
<td>DATE</td>
<td>相關日期</td>
</tr>
<tr>
<td>DEBIT_AMT</td>
<td>NUMBER</td>
<td>借方金額</td>
</tr>
<tr>
<td>CREDIT_AMT</td>
<td>NUMBER</td>
<td>貸方金額</td>
</tr>
<tr>
<td>ACCNT_NAME</td>
<td>VARCHAR2(100)</td>
<td>科目名稱</td>
</tr>
<tr>
<td>UNIT_NAME</td>
<td>VARCHAR2(100)</td>
<td>單位名稱</td>
</tr>
<tr>
<td>OBJECT_NAME</td>
<td>VARCHAR2(300)</td>
<td>對象名稱</td>
</tr>
<tr>
<td>VOUCHER_DESC</td>
<td>VARCHAR2(1000)</td>
<td>摘要</td>
</tr>
<tr>
<td>OFFSET_NO</td>
<td>VARCHAR2(10)</td>
<td>沖銷代號</td>
</tr>
<tr>
<td>OFFSET_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>沖銷傳票號</td>
</tr>
<tr>
<td>OFFSET_DUE_DATE</td>
<td>DATE</td>
<td>沖銷到期日</td>
</tr>
<tr>
<td>CREATE_OFFSET_SEQ</td>
<td>NUMBER(2)</td>
<td>立沖序號</td>
</tr>
<tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(4)</td>
<td>公司別</td>
</tr>
<tr>
<td>ORDER_SEQ</td>
<td>NUMBER</td>
<td>排列序號</td>
</tr>
<tr>
<td>LAST_UPDATE_DATE</td>
<td>DATE</td>
<td>最近維護日</td>
</tr>
</tbody></table>
<h3 id="3-AP-DETAIL（應付帳款明細檔）"><a href="#3-AP-DETAIL（應付帳款明細檔）" class="headerlink" title="3. AP_DETAIL（應付帳款明細檔）"></a><strong>3. AP_DETAIL（應付帳款明細檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(8)</td>
<td>公司別</td>
</tr>
<tr>
<td>CREATE_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票號碼</td>
</tr>
<tr>
<td>VOUCHER_SEQ</td>
<td>NUMBER</td>
<td>傳票序號</td>
</tr>
<tr>
<td>OFFSET_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>沖銷傳票號碼</td>
</tr>
</tbody></table>
<h3 id="4-AR-DETAIL（應收帳款明細檔）"><a href="#4-AR-DETAIL（應收帳款明細檔）" class="headerlink" title="4. AR_DETAIL（應收帳款明細檔）"></a><strong>4. AR_DETAIL（應收帳款明細檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(8)</td>
<td>公司別</td>
</tr>
<tr>
<td>CREATE_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票號碼</td>
</tr>
<tr>
<td>VOUCHER_SEQ</td>
<td>NUMBER</td>
<td>傳票序號</td>
</tr>
<tr>
<td>OFFSET_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>沖銷傳票號碼</td>
</tr>
</tbody></table>
<h3 id="5-NP-DETAIL（應付票據明細檔）"><a href="#5-NP-DETAIL（應付票據明細檔）" class="headerlink" title="5. NP_DETAIL（應付票據明細檔）"></a><strong>5. NP_DETAIL（應付票據明細檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(8)</td>
<td>公司別</td>
</tr>
<tr>
<td>CREATE_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票號碼</td>
</tr>
<tr>
<td>CREATE_VOUCHER_SEQ</td>
<td>NUMBER</td>
<td>傳票序號</td>
</tr>
<tr>
<td>OFFSET_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>沖銷傳票號碼</td>
</tr>
</tbody></table>
<h3 id="6-NR-DETAIL（應收票據明細檔）"><a href="#6-NR-DETAIL（應收票據明細檔）" class="headerlink" title="6. NR_DETAIL（應收票據明細檔）"></a><strong>6. NR_DETAIL（應收票據明細檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(8)</td>
<td>公司別</td>
</tr>
<tr>
<td>CREATE_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票號碼</td>
</tr>
<tr>
<td>CREATE_VOUCHER_SEQ</td>
<td>NUMBER</td>
<td>傳票序號</td>
</tr>
<tr>
<td>OFFSET_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>沖銷傳票號碼</td>
</tr>
</tbody></table>
<h3 id="7-PIV-INCOME-EVIDENCE（進項憑證檔）"><a href="#7-PIV-INCOME-EVIDENCE（進項憑證檔）" class="headerlink" title="7. PIV_INCOME_EVIDENCE（進項憑證檔）"></a><strong>7. PIV_INCOME_EVIDENCE（進項憑證檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(8)</td>
<td>公司別</td>
</tr>
<tr>
<td>VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票號碼</td>
</tr>
<tr>
<td>VOUCHER_SEQ</td>
<td>NUMBER</td>
<td>傳票序號</td>
</tr>
</tbody></table>
<h3 id="8-PPY-MASTER（暫付款主檔）"><a href="#8-PPY-MASTER（暫付款主檔）" class="headerlink" title="8. PPY_MASTER（暫付款主檔）"></a><strong>8. PPY_MASTER（暫付款主檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(8)</td>
<td>公司別</td>
</tr>
<tr>
<td>CREATE_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票號碼</td>
</tr>
<tr>
<td>VOUCHER_SEQ</td>
<td>NUMBER</td>
<td>傳票序號</td>
</tr>
<tr>
<td>DOCUMENT_NO</td>
<td>VARCHAR2(20)</td>
<td>文件編號</td>
</tr>
</tbody></table>
<h3 id="9-PPY-DETAIL（暫付款明細檔）"><a href="#9-PPY-DETAIL（暫付款明細檔）" class="headerlink" title="9. PPY_DETAIL（暫付款明細檔）"></a><strong>9. PPY_DETAIL（暫付款明細檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>DOCUMENT_NO</td>
<td>VARCHAR2(20)</td>
<td>文件編號</td>
</tr>
<tr>
<td>OFFSET_VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>沖銷傳票號碼</td>
</tr>
</tbody></table>
<h3 id="10-SI2-INVOICE-MASTER（發票主檔）"><a href="#10-SI2-INVOICE-MASTER（發票主檔）" class="headerlink" title="10. SI2_INVOICE_MASTER（發票主檔）"></a><strong>10. SI2_INVOICE_MASTER（發票主檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>COMPANY_ID</td>
<td>VARCHAR2(8)</td>
<td>公司別</td>
</tr>
<tr>
<td>VOUCHER_NO</td>
<td>VARCHAR2(12)</td>
<td>傳票號碼</td>
</tr>
<tr>
<td>VOUCHER_SEQ</td>
<td>NUMBER</td>
<td>傳票序號</td>
</tr>
</tbody></table>
<h3 id="11-SYS-PARM-D（系統參數檔）"><a href="#11-SYS-PARM-D（系統參數檔）" class="headerlink" title="11. SYS_PARM_D（系統參數檔）"></a><strong>11. SYS_PARM_D（系統參數檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>PARM_ID</td>
<td>VARCHAR2(10)</td>
<td>參數代碼</td>
</tr>
<tr>
<td>PARM_ID_CODE</td>
<td>VARCHAR2(10)</td>
<td>參數代號</td>
</tr>
<tr>
<td>PARM_REMARK</td>
<td>VARCHAR2(100)</td>
<td>備註</td>
</tr>
<tr>
<td>PARM_VALUE1</td>
<td>VARCHAR2(100)</td>
<td>參數值1</td>
</tr>
<tr>
<td>PARM_VALUE2</td>
<td>VARCHAR2(100)</td>
<td>參數值2</td>
</tr>
</tbody></table>
<h3 id="12-NP-CODE-REFERENCE（代碼參考檔）"><a href="#12-NP-CODE-REFERENCE（代碼參考檔）" class="headerlink" title="12. NP_CODE_REFERENCE（代碼參考檔）"></a><strong>12. NP_CODE_REFERENCE（代碼參考檔）</strong></h3><table>
<thead>
<tr>
<th>欄位名稱</th>
<th>資料型態</th>
<th>中文備註</th>
</tr>
</thead>
<tbody><tr>
<td>CODE_KIND</td>
<td>VARCHAR2(10)</td>
<td>代碼類別</td>
</tr>
<tr>
<td>CODE_NO</td>
<td>VARCHAR2(10)</td>
<td>代碼編號</td>
</tr>
</tbody></table>
<h3 id="備註"><a href="#備註" class="headerlink" title="備註"></a><strong>備註</strong></h3><ol>
<li>根據 <code>GLM001</code> 的 stored procedure，以上列出的資料表包含傳票維護作業中涉及的各種應付、應收、暫付款、發票等相關表格，以及檢查程序所需的系統參數表與代碼參考表。</li>
<li>在進行傳票刪除、檢查等操作時，會使用這些資料表中的欄位來進行驗證和邏輯處理。</li>
</ol>
<pre><code class="plantuml">
Table GL_VOUCHER_MASTER {
  VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  ACCNT_YEAR VARCHAR2(4) [note: &#39;年度&#39;]
  ACCNT_PERIOD VARCHAR2(2) [note: &#39;會計期間&#39;]
  VOUCHER_DATE DATE [note: &#39;傳票日期&#39;]
  COMPANY_ID VARCHAR2(4) [note: &#39;公司別&#39;]
  ACCNT_CREATOR VARCHAR2(10) [note: &#39;製票員&#39;]
  LAST_UPDATE_DATE DATE [note: &#39;最近維護日&#39;]
  PRINT_CODE VARCHAR2(1) [note: &#39;列印碼&#39;]
  DELETE_CODE VARCHAR2(1) [note: &#39;刪除碼&#39;]
}

Table GL_VOUCHER_DETAIL {
  COMPANY_ID VARCHAR2(4) [note: &#39;公司別&#39;]
  VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  ACCNT_NO VARCHAR2(10) [note: &#39;科目代號&#39;]
  SEQ_NO NUMBER(4) [note: &#39;序號&#39;]
  UNIT_ID VARCHAR2(7) [note: &#39;單位別&#39;]
  OBJECT_NO VARCHAR2(10) [note: &#39;對象代號&#39;]
  RELATION_NO VARCHAR2(15) [note: &#39;相關號碼&#39;]
  RELATION_DATE DATE [note: &#39;相關日期&#39;]
  DEBIT_AMT NUMBER [note: &#39;借方金額&#39;]
  CREDIT_AMT NUMBER [note: &#39;貸方金額&#39;]
  ACCNT_NAME VARCHAR2(100) [note: &#39;科目名稱&#39;]
  UNIT_NAME VARCHAR2(100) [note: &#39;單位名稱&#39;]
  OBJECT_NAME VARCHAR2(300) [note: &#39;對象名稱&#39;]
  VOUCHER_DESC VARCHAR2(1000) [note: &#39;摘要&#39;]
  OFFSET_NO VARCHAR2(10) [note: &#39;沖銷代號&#39;]
  OFFSET_VOUCHER_NO VARCHAR2(12) [note: &#39;沖銷傳票號&#39;]
  OFFSET_DUE_DATE DATE [note: &#39;沖銷到期日&#39;]
  CREATE_OFFSET_SEQ NUMBER(2) [note: &#39;立沖序號&#39;]
  ORDER_SEQ NUMBER [note: &#39;排列序號&#39;]
  LAST_UPDATE_DATE DATE [note: &#39;最近維護日&#39;]
}

Table AP_DETAIL {
  COMPANY_ID VARCHAR2(8) [note: &#39;公司別&#39;]
  CREATE_VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  VOUCHER_SEQ NUMBER [note: &#39;傳票序號&#39;]
  MASTER_SEQ NUMBER [note: &#39;主檔序號&#39;]
  SECOND_SEQ NUMBER [note: &#39;二級序號&#39;]
  OFFSET_AMT NUMBER [note: &#39;抵消金額&#39;]
  LAST_UPDATE_DATE DATE [note: &#39;最後更新日期&#39;]
}

Table AR_DETAIL {
  COMPANY_ID VARCHAR2(8) [note: &#39;公司別&#39;]
  CREATE_VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  VOUCHER_SEQ NUMBER [note: &#39;傳票序號&#39;]
  OFFSET_VOUCHER_NO VARCHAR2(12) [note: &#39;沖銷傳票編號&#39;]
}

Table NP_DETAIL {
  COMPANY_ID VARCHAR2(8) [note: &#39;公司別&#39;]
  CREATE_VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  CREATE_VOUCHER_SEQ NUMBER [note: &#39;傳票序號&#39;]
  OFFSET_VOUCHER_NO VARCHAR2(12) [note: &#39;沖銷傳票編號&#39;]
}

Table NR_DETAIL {
  COMPANY_ID VARCHAR2(8) [note: &#39;公司別&#39;]
  CREATE_VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  CREATE_VOUCHER_SEQ NUMBER [note: &#39;傳票序號&#39;]
  OFFSET_VOUCHER_NO VARCHAR2(12) [note: &#39;沖銷傳票編號&#39;]
}

Table PIV_INCOME_EVIDENCE {
  COMPANY_ID VARCHAR2(8) [note: &#39;公司別&#39;]
  VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  VOUCHER_SEQ NUMBER [note: &#39;傳票序號&#39;]
}

Table PPY_MASTER {
  COMPANY_ID VARCHAR2(8) [note: &#39;公司別&#39;]
  CREATE_VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  VOUCHER_SEQ NUMBER [note: &#39;傳票序號&#39;]
  DOCUMENT_NO VARCHAR2(20) [note: &#39;文件編號&#39;]
}

Table PPY_DETAIL {
  DOCUMENT_NO VARCHAR2(20) [note: &#39;文件編號&#39;]
  OFFSET_VOUCHER_NO VARCHAR2(12) [note: &#39;沖銷傳票編號&#39;]
}

Table SI2_INVOICE_MASTER {
  COMPANY_ID VARCHAR2(8) [note: &#39;公司別&#39;]
  VOUCHER_NO VARCHAR2(12) [note: &#39;傳票編號&#39;]
  VOUCHER_SEQ NUMBER [note: &#39;傳票序號&#39;]
}

Table SYS_PARM_D {
  PARM_ID VARCHAR2(10) [note: &#39;參數 ID&#39;]
  PARM_ID_CODE VARCHAR2(10) [note: &#39;參數代號&#39;]
  PARM_REMARK VARCHAR2(100) [note: &#39;參數描述&#39;]
  PARM_VALUE1 VARCHAR2(20) [note: &#39;參數值 1&#39;]
  PARM_VALUE2 VARCHAR2(20) [note: &#39;參數值 2&#39;]
}

Table NP_CODE_REFERENCE {
  CODE_KIND VARCHAR2(2) [note: &#39;代號類型&#39;]
  CODE_NO VARCHAR2(10) [note: &#39;代號&#39;]
}

Ref: GL_VOUCHER_MASTER.VOUCHER_NO &gt; GL_VOUCHER_DETAIL.VOUCHER_NO
Ref: GL_VOUCHER_MASTER.COMPANY_ID &gt; GL_VOUCHER_DETAIL.COMPANY_ID
Ref: AP_DETAIL.COMPANY_ID &gt; GL_VOUCHER_MASTER.COMPANY_ID
Ref: AR_DETAIL.COMPANY_ID &gt; GL_VOUCHER_MASTER.COMPANY_ID
Ref: NP_DETAIL.COMPANY_ID &gt; GL_VOUCHER_MASTER.COMPANY_ID
Ref: NR_DETAIL.COMPANY_ID &gt; GL_VOUCHER_MASTER.COMPANY_ID
Ref: PIV_INCOME_EVIDENCE.COMPANY_ID &gt; GL_VOUCHER_MASTER.COMPANY_ID
Ref: PPY_MASTER.COMPANY_ID &gt; GL_VOUCHER_MASTER.COMPANY_ID
Ref: SI2_INVOICE_MASTER.COMPANY_ID &gt; GL_VOUCHER_MASTER.COMPANY_ID

</code></pre>

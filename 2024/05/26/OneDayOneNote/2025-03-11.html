<hr>
<h2 id="title-2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼-ç¬¬ä¸€æ­¥date-2025-09-06-23-07-08categories-OneDayOneNotetags-Javascript-Vue-description-2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼-ç¬¬ä¸€æ­¥"><a href="#title-2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼-ç¬¬ä¸€æ­¥date-2025-09-06-23-07-08categories-OneDayOneNotetags-Javascript-Vue-description-2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼-ç¬¬ä¸€æ­¥" class="headerlink" title="title: 2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼ -ç¬¬ä¸€æ­¥date: 2025-09-06 23:07:08categories: OneDayOneNotetags:  [Javascript,Vue]description: 2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼ -ç¬¬ä¸€æ­¥"></a>title: 2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼ -ç¬¬ä¸€æ­¥<br>date: 2025-09-06 23:07:08<br>categories: OneDayOneNote<br>tags:  [Javascript,Vue]<br>description: 2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼ -ç¬¬ä¸€æ­¥</h2><h1 id="2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼-ç¬¬ä¸€æ­¥"><a href="#2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼-ç¬¬ä¸€æ­¥" class="headerlink" title="2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼ -ç¬¬ä¸€æ­¥"></a>2025-03-11-åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼ -ç¬¬ä¸€æ­¥</h1><p>åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼</p>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´ã€å¯ç›´æ¥é‹ä½œçš„ <code>CountryInfo.vue</code>ï¼Œä½¿ç”¨ <strong>CDN å¼•å…¥ Vue å’Œ Leaflet</strong>ï¼Œä¸¦é©åˆä½ ç›®å‰çš„é–‹ç™¼æ–¹å¼ï¼ˆç„¡ npmã€åªç”¨ CDN çš„æ–¹å¼ï¼‰ã€‚</p>
<hr>
<h2 id="âœ…-å®Œæ•´çš„-CountryInfo-vueï¼ˆé…åˆ-CDNï¼‰"><a href="#âœ…-å®Œæ•´çš„-CountryInfo-vueï¼ˆé…åˆ-CDNï¼‰" class="headerlink" title="âœ… å®Œæ•´çš„ CountryInfo.vueï¼ˆé…åˆ CDNï¼‰"></a>âœ… å®Œæ•´çš„ <code>CountryInfo.vue</code>ï¼ˆé…åˆ CDNï¼‰</h2><pre><code class="vue">&lt;!-- CountryInfo.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;ğŸŒ åœ‹å®¶è³‡è¨Šèˆ‡åœ°åœ–æ‡‰ç”¨ç¨‹å¼&lt;/h2&gt;
    &lt;div id=&quot;map&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { onMounted } from &#39;vue&#39;

// CDN Leaflet æ˜¯å…¨åŸŸè®Šæ•¸ Lï¼ˆä¸éœ€è¦ import &#39;leaflet&#39;ï¼‰

onMounted(async () =&gt; {
  const map = L.map(&#39;map&#39;).setView([20, 0], 2)

  L.tileLayer(&#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;, {
    attribution: &#39;Â© OpenStreetMap contributors&#39;
  }).addTo(map)

  // ä¿®æ­£ Leaflet marker åœ–ç¤ºç„¡æ³•é¡¯ç¤ºï¼ˆCDN åœ–æª”ï¼‰
  const iconUrl = &#39;https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png&#39;
  const shadowUrl = &#39;https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png&#39;
  const DefaultIcon = L.icon({
    iconUrl,
    shadowUrl,
    iconSize: [25, 41],
    iconAnchor: [12, 41],
    popupAnchor: [1, -34],
    shadowSize: [41, 41]
  })
  L.Marker.prototype.options.icon = DefaultIcon

  // æŠ“å–åœ‹å®¶è³‡æ–™
  const res = await fetch(&#39;https://restcountries.com/v3.1/all&#39;)
  const countries = await res.json()

  countries.forEach((country) =&gt; {
    const latlng = country.latlng
    const name = country.name?.common || &#39;æœªçŸ¥&#39;
    const capital = country.capital?.[0] || &#39;æœªçŸ¥&#39;
    const flag = country.flags?.png || &#39;&#39;
    const currency = country.currencies
      ? Object.values(country.currencies)[0]?.symbol || &#39;æœªçŸ¥&#39;
      : &#39;æœªçŸ¥&#39;

    if (latlng?.length === 2) {
      const marker = L.marker(latlng).addTo(map)
      marker.bindPopup(`
        &lt;div style=&quot;text-align: center;&quot;&gt;
          &lt;img src=&quot;${flag}&quot; width=&quot;80&quot;&gt;&lt;br&gt;
          &lt;strong&gt;${name}&lt;/strong&gt;&lt;br&gt;
          é¦–éƒ½ï¼š${capital}&lt;br&gt;
          è²¨å¹£ï¼š${currency}
        &lt;/div&gt;
      `)
    }
  })
})
&lt;/script&gt;

&lt;style scoped&gt;
#map {
  height: 90vh;
  width: 100%;
}
&lt;/style&gt;
</code></pre>
<hr>
<h2 id="âœ…-index-htmlï¼ˆé…åˆé€™å€‹-vue-æª”æ¡ˆæ™‚ï¼‰"><a href="#âœ…-index-htmlï¼ˆé…åˆé€™å€‹-vue-æª”æ¡ˆæ™‚ï¼‰" class="headerlink" title="âœ… index.htmlï¼ˆé…åˆé€™å€‹ .vue æª”æ¡ˆæ™‚ï¼‰"></a>âœ… index.htmlï¼ˆé…åˆé€™å€‹ <code>.vue</code> æª”æ¡ˆæ™‚ï¼‰</h2><p>å¦‚æœä½ æ˜¯ç”¨ Vite + CDNï¼Œå°±è¦ç¢ºä¿ä½ çš„ <code>index.html</code>ï¼ˆæˆ– <code>public/index.html</code>ï¼‰ä¸­åŒ…å«ä»¥ä¸‹å…§å®¹ï¼š</p>
<pre><code class="html">&lt;!-- æ”¾åœ¨ &lt;head&gt; ä¸­ --&gt;
&lt;link
  rel=&quot;stylesheet&quot;
  href=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.css&quot;
/&gt;

&lt;!-- æ”¾åœ¨ &lt;body&gt; æœ€ä¸‹æ–¹ --&gt;
&lt;script src=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>é€™æ¨£ Leaflet çš„ CSS å’Œ JS å°±æœƒæ­£ç¢ºè¼‰å…¥ã€‚</p>
<hr>
<h2 id="âœ…-å¦‚ä½•åœ¨-App-vue-ä½¿ç”¨å®ƒ"><a href="#âœ…-å¦‚ä½•åœ¨-App-vue-ä½¿ç”¨å®ƒ" class="headerlink" title="âœ… å¦‚ä½•åœ¨ App.vue ä½¿ç”¨å®ƒ"></a>âœ… å¦‚ä½•åœ¨ App.vue ä½¿ç”¨å®ƒ</h2><pre><code class="vue">&lt;template&gt;
  &lt;CountryInfo /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import CountryInfo from &#39;./components/CountryInfo.vue&#39;
&lt;/script&gt;
</code></pre>
<hr>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Vite å»ºç«‹çš„ Vue å°ˆæ¡ˆï¼Œä½†æƒ³<strong>ä¸ç”¨ npm å®‰è£ leaflet</strong>ï¼Œåªé  CDNï¼Œä¹Ÿå®Œå…¨æ²’å•é¡Œï¼Œåªè¦è¨˜å¾—ï¼š</p>
<ul>
<li>Leaflet çš„ JS ä¸è¦ <code>import</code>ï¼Œç›´æ¥ç”¨ CDN + <code>window.L</code></li>
<li>Leaflet çš„ CSS å¿…é ˆæ”¾åœ¨ <code>index.html</code> ä¸­</li>
</ul>
<hr>
<p>ç•¶ç„¶å¯ä»¥ï¼Œä»¥ä¸‹æ˜¯åŠ å…¥è©³ç´°å‚™è¨»èªªæ˜çš„ç‰ˆæœ¬ï¼š</p>
<hr>
<pre><code class="html">&lt;!-- âœ… Leaflet åœ°åœ–æ¨£å¼ï¼ˆä¸€å®šè¦æ”¾åœ¨ &lt;head&gt;ï¼Œå¦å‰‡åœ°åœ–æœƒé¡¯ç¤ºç•°å¸¸æˆ–ç©ºç™½ï¼‰ --&gt;
&lt;link
  rel=&quot;stylesheet&quot;
  href=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.css&quot;
/&gt;
</code></pre>
<pre><code class="html">&lt;!-- âœ… Leaflet JavaScript åŠŸèƒ½ï¼ˆå»ºè­°æ”¾åœ¨ &lt;body&gt; æœ€ä¸‹æ–¹ï¼Œè®“ HTML è¼‰å…¥å®Œå†åŸ·è¡Œï¼‰ --&gt;
&lt;script src=&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.js&quot;&gt;&lt;/script&gt;
</code></pre>
<hr>
<h3 id="ğŸ”-ç‚ºä»€éº¼é€™æ¨£æ”¾ï¼Ÿ"><a href="#ğŸ”-ç‚ºä»€éº¼é€™æ¨£æ”¾ï¼Ÿ" class="headerlink" title="ğŸ” ç‚ºä»€éº¼é€™æ¨£æ”¾ï¼Ÿ"></a>ğŸ” ç‚ºä»€éº¼é€™æ¨£æ”¾ï¼Ÿ</h3><table>
<thead>
<tr>
<th>è³‡æºé¡å‹</th>
<th>å»ºè­°æ”¾åœ¨å“ªè£¡</th>
<th>åŸå› </th>
</tr>
</thead>
<tbody><tr>
<td>CSS æ¨£å¼</td>
<td><code>&lt;head&gt;</code> ä¸­</td>
<td>ææ—©è¼‰å…¥æ¨£å¼ï¼Œé¿å…åœ°åœ–è®Šå½¢æˆ–é–ƒçˆ</td>
</tr>
<tr>
<td>JS è…³æœ¬</td>
<td><code>&lt;body&gt;</code> æœ€å¾Œ</td>
<td>é¿å…é˜»å¡ HTML è¼‰å…¥ã€é¿å…æ‰¾ä¸åˆ° DOM å…ƒç´ éŒ¯èª¤</td>
</tr>
</tbody></table>
<hr>

<hr>
<h2 id="title-2025-05-29-å‰ç«¯-â†’-gateway-â†’-AI-çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ-Header-Body-çš„å°æ‡‰é—œä¿‚date-2025-09-23-22-28-40categories-OneDayOneNotetags-æ¶æ§‹è¨­è¨ˆ-node-MCP-macOS-description-2025-05-29-å‰ç«¯-â†’-gateway-â†’-AI-çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ-Header-Body-çš„å°æ‡‰é—œä¿‚"><a href="#title-2025-05-29-å‰ç«¯-â†’-gateway-â†’-AI-çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ-Header-Body-çš„å°æ‡‰é—œä¿‚date-2025-09-23-22-28-40categories-OneDayOneNotetags-æ¶æ§‹è¨­è¨ˆ-node-MCP-macOS-description-2025-05-29-å‰ç«¯-â†’-gateway-â†’-AI-çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ-Header-Body-çš„å°æ‡‰é—œä¿‚" class="headerlink" title="title: 2025-05-29  å‰ç«¯ â†’ gateway â†’ AI çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ Header &#x2F; Body çš„å°æ‡‰é—œä¿‚date: 2025-09-23 22:28:40categories: OneDayOneNotetags:  [æ¶æ§‹è¨­è¨ˆ,node,MCP, macOS]description: 2025-05-29  å‰ç«¯ â†’ gateway â†’ AI çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ Header &#x2F; Body çš„å°æ‡‰é—œä¿‚"></a>title: 2025-05-29  å‰ç«¯ â†’ gateway â†’ AI çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ Header &#x2F; Body çš„å°æ‡‰é—œä¿‚<br>date: 2025-09-23 22:28:40<br>categories: OneDayOneNote<br>tags:  [æ¶æ§‹è¨­è¨ˆ,node,MCP, macOS]<br>description: 2025-05-29  å‰ç«¯ â†’ gateway â†’ AI çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ Header &#x2F; Body çš„å°æ‡‰é—œä¿‚</h2><h1 id="2025-05-29-å‰ç«¯-â†’-gateway-â†’-AI-çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ-Header-Body-çš„å°æ‡‰é—œä¿‚"><a href="#2025-05-29-å‰ç«¯-â†’-gateway-â†’-AI-çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ-Header-Body-çš„å°æ‡‰é—œä¿‚" class="headerlink" title="2025-05-29  å‰ç«¯ â†’ gateway â†’ AI çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ Header &#x2F; Body çš„å°æ‡‰é—œä¿‚"></a>2025-05-29  å‰ç«¯ â†’ gateway â†’ AI çš„æ•´å€‹æµç¨‹ï¼Œä»¥åŠ Header &#x2F; Body çš„å°æ‡‰é—œä¿‚</h1><p>å¤ªæ£’äº† ğŸ˜„ æˆ‘å¹«ä½ ç•«ä¸€å€‹ <strong>åœ–ç¤ºåŒ–ç®­é ­æµç¨‹åœ–</strong>ï¼Œç”¨æ–‡å­—è¡¨ç¤ºå‰ç«¯ã€Gatewayã€AI ä¹‹é–“çš„è³‡æ–™æµå‘ï¼ŒåŒ…æ‹¬ Headerã€Body å’Œ API Key çš„ä½ç½®ï¼Œæ–¹ä¾¿ä½ å¿«é€Ÿç†è§£æ•´å€‹æµç¨‹ã€‚</p>
<hr>
<pre><code>[ å‰ç«¯ / Postman ]
      â”‚
      â”‚ POST http://localhost:4000/api/chat
      â”‚ Header:
      â”‚   Content-Type: application/json
      â”‚ Body:
      â”‚   {
      â”‚     &quot;provider&quot;: &quot;openai&quot;,
      â”‚     &quot;messages&quot;: [{ &quot;role&quot;:&quot;user&quot;,&quot;content&quot;:&quot;hello&quot; }]
      â”‚   }
      â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚        MCP Gateway           â”‚
â”‚  (gateway.mjs / Express)     â”‚
â”‚                               â”‚
â”‚ 1ï¸âƒ£ è§£æ Body â†’ provider &amp; messages
â”‚ 2ï¸âƒ£ æª¢æŸ¥ .env API Key
â”‚ 3ï¸âƒ£ å¦‚æœç„¡ key â†’ å› mock
â”‚ 4ï¸âƒ£ å¦‚æœæœ‰ key â†’ å‘¼å« AI API
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      â”‚
      â”‚ POST https://api.openai.com/v1/chat/completions
      â”‚ (æˆ– DeepSeek API)
      â”‚ Header:
      â”‚   Authorization: Bearer &lt;API_KEY&gt;
      â”‚   Content-Type: application/json
      â”‚ Body:
      â”‚   { model: &quot;gpt-3.5-turbo&quot;, messages: [...] }
      â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚        AI Provider           â”‚
â”‚ (OpenAI / DeepSeek)          â”‚
â”‚                               â”‚
â”‚ å›å‚³ JSON Response            â”‚
â”‚ { choices: [...], ... }       â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      â”‚
      â”‚ Gateway æ•´ç†æˆçµ±ä¸€æ ¼å¼
      â–¼
[ å‰ç«¯ / Postman ]
      â”‚
      â”‚ Response JSON:
      â”‚ {
      â”‚   &quot;provider&quot;: &quot;openai&quot;,
      â”‚   &quot;text&quot;: &quot;AI å›è¦†æ–‡å­—&quot;,
      â”‚   &quot;raw&quot;: { ...å®Œæ•´ AI å›è¦†... }
      â”‚ }
</code></pre>
<hr>
<h3 id="ğŸ”‘-è®€åœ–é‡é»"><a href="#ğŸ”‘-è®€åœ–é‡é»" class="headerlink" title="ğŸ”‘ è®€åœ–é‡é»"></a>ğŸ”‘ è®€åœ–é‡é»</h3><ol>
<li><p><strong>å‰ç«¯ Header &#x2F; Body</strong></p>
<ul>
<li>Headerï¼šå‘Šè¨´ Gateway å…§å®¹æ˜¯ JSON</li>
<li>Bodyï¼šå‘Šè¨´ Gateway è¦ç”¨å“ªå€‹ AIã€è¨Šæ¯å…§å®¹</li>
</ul>
</li>
<li><p><strong>Gateway çš„å·¥ä½œ</strong></p>
<ul>
<li>è§£æå‰ç«¯è«‹æ±‚</li>
<li>æ±ºå®šè¦ mock é‚„æ˜¯å‘¼å«çœŸæ­£ AI</li>
<li>å‘¼å«å¤–éƒ¨ API æ™‚å¸¶ä¸Š Authorization èˆ‡ Body</li>
</ul>
</li>
<li><p><strong>Gateway çµ±ä¸€å›å‚³</strong></p>
<ul>
<li>ä¸ç®¡æ˜¯çœŸå¯¦å›è¦†é‚„æ˜¯ mockï¼Œéƒ½ç”¨çµ±ä¸€æ ¼å¼çµ¦å‰ç«¯</li>
</ul>
</li>
<li><p><strong>AI Provider</strong></p>
<ul>
<li>æ¥æ”¶ Gateway å°è£å¥½çš„ request</li>
<li>å›å‚³çµæœçµ¦ Gateway</li>
</ul>
</li>
</ol>
<hr>

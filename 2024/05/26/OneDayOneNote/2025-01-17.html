<hr>
<h2 id="title-2025-01-17-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07date-2025-05-05-21-51-42categories-OneDayOneNotetags-Javascript-Vue-description-2025-01-17-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07"><a href="#title-2025-01-17-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07date-2025-05-05-21-51-42categories-OneDayOneNotetags-Javascript-Vue-description-2025-01-17-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07" class="headerlink" title="title: 2025-01-17 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07date: 2025-05-05 21:51:42categories: OneDayOneNotetags:  [Javascript,Vue]description:  2025-01-17 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07"></a>title: 2025-01-17 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07<br>date: 2025-05-05 21:51:42<br>categories: OneDayOneNote<br>tags:  [Javascript,Vue]<br>description:  2025-01-17 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07</h2><h2 id="2025-01-17-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07"><a href="#2025-01-17-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07" class="headerlink" title="2025-01-17 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07"></a>2025-01-17 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ07</h2><p>æ­£çµ± Vue 3 çš„åšæ³•</p>
<p>å¤ªæ£’äº†ï¼ğŸ¥³<br>ä½ èªªã€è¦ã€‘ï¼Œé‚£æˆ‘ä¾†å¹«ä½ æ•´ç†æˆä¸€ç‰ˆ <strong>ã€Œå®Œæ•´ç‰ˆã€ç³¾æ­£å¾Œã€è¶…ä¹¾æ·¨ã€å°ˆæ¥­ç‰ˆã€</strong> âœ¨<br>é€™ç‰ˆæœƒä¿®æ‰ä½ æ‰€æœ‰å°å•é¡Œï¼Œè€Œä¸”è®“ä½ çš„ Vue ç¨‹å¼æ›´ä¹¾æ·¨ã€‚</p>
<hr>
<h1 id="ğŸ”¥ã€å®Œæ•´ç‰ˆä¿®æ­£ç‰ˆã€‘ğŸ”¥"><a href="#ğŸ”¥ã€å®Œæ•´ç‰ˆä¿®æ­£ç‰ˆã€‘ğŸ”¥" class="headerlink" title="ğŸ”¥ã€å®Œæ•´ç‰ˆä¿®æ­£ç‰ˆã€‘ğŸ”¥"></a>ğŸ”¥ã€å®Œæ•´ç‰ˆä¿®æ­£ç‰ˆã€‘ğŸ”¥</h1><pre><code class="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;æˆ‘çš„è¡Œäº‹æ›†&lt;/h2&gt;
    &lt;div ref=&quot;calendarRef&quot; id=&quot;calendar&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- æ–°å¢æ´»å‹•çš„è¡¨å–® Modal --&gt;
  &lt;div v-if=&quot;showForm&quot; class=&quot;modal-overlay&quot;&gt;
    &lt;div class=&quot;modal&quot;&gt;
      &lt;h3&gt;æ–°å¢æ´»å‹•&lt;/h3&gt;
      &lt;label&gt;
        æ´»å‹•åç¨±ï¼š
        &lt;input v-model=&quot;formData.title&quot; type=&quot;text&quot;&gt;
      &lt;/label&gt;
      &lt;label&gt;
        æ´»å‹•æ—¥æœŸï¼š
        &lt;input v-model=&quot;formData.date&quot; type=&quot;date&quot;&gt;
      &lt;/label&gt;
      &lt;label&gt;
        æ´»å‹•æ™‚é–“ï¼š
        &lt;input v-model=&quot;formData.time&quot; type=&quot;time&quot;&gt;
      &lt;/label&gt;
      &lt;div class=&quot;modal-buttons&quot;&gt;
        &lt;button @click=&quot;saveEvent&quot;&gt;å„²å­˜&lt;/button&gt;
        &lt;button @click=&quot;showForm = false&quot;&gt;å–æ¶ˆ&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from &#39;vue&#39;

const calendarRef = ref(null)
const showForm = ref(false)
const formData = ref({
  title: &#39;&#39;,
  date: &#39;&#39;,
  time: &#39;&#39;
})

let calendar = null // ğŸ‘ˆ é€™è£¡è¨­å…¨åŸŸè®Šæ•¸ï¼Œä¸è¦å†ç”¨ window

onMounted(() =&gt; {
  if (window.FullCalendar &amp;&amp; window.FullCalendar.Calendar) {
    calendar = new window.FullCalendar.Calendar(calendarRef.value, {
      initialView: &#39;dayGridMonth&#39;,
      locale: &#39;zh-tw&#39;,
      events: [],
      dateClick(info) {
        // ç§»é™¤æ‰€æœ‰èˆŠçš„æŒ‰éˆ•
        document.querySelectorAll(&#39;.add-event-button&#39;).forEach(btn =&gt; btn.remove())

        // ç§»é™¤èˆŠçš„ç°è‰²èƒŒæ™¯
        document.querySelectorAll(&#39;.selected-day&#39;).forEach(el =&gt; {
          el.classList.remove(&#39;selected-day&#39;)
        })

        const cellEl = info.dayEl.querySelector(&#39;.fc-daygrid-day-frame&#39;)
        if (!cellEl) return

        // âœ… åŠ èƒŒæ™¯è‰² class
        cellEl.classList.add(&#39;selected-day&#39;)

        // âœ… æ–°å¢æŒ‰éˆ•
        const button = document.createElement(&#39;button&#39;)
        button.className = &#39;add-event-button&#39;
        button.innerHTML = `&lt;span class=&quot;text&quot;&gt;æ–°å¢æ´»å‹•&lt;/span&gt;&lt;span class=&quot;icon&quot;&gt;â•&lt;/span&gt;`

        button.onclick = () =&gt; {
          formData.value.date = info.dateStr
          formData.value.time = &#39;09:00&#39;
          formData.value.title = &#39;&#39;
          showForm.value = true
        }

        cellEl.appendChild(button)
      }
    })
    calendar.render()
  } else {
    console.error(&#39;FullCalendar å°šæœªè¼‰å…¥ï¼Œè«‹ç¢ºèª CDN script&#39;)
  }
})

function saveEvent() {
  if (!formData.value.title) {
    alert(&#39;è«‹è¼¸å…¥æ´»å‹•åç¨±&#39;)
    return
  }

  const event = {
    title: formData.value.title,
    start: `${formData.value.date}T${formData.value.time}`
  }

  // âœ… ç›´æ¥ç”¨ calendar.addEventï¼Œä¸è¦æ›åˆ° window
  calendar.addEvent(event)

  showForm.value = false
}
&lt;/script&gt;

&lt;style scoped&gt;
#calendar {
  max-width: 800px;
  margin: 20px auto;
}

/* âœ… é»é¸æ—¥æœŸæ ¼èƒŒæ™¯è®Šæ·ºç°è‰² */
:deep(.selected-day) {
  background-color: #f0f0f0 !important;
  transition: background-color 0.3s ease;
}

/* âœ… æ–°å¢æ´»å‹•æŒ‰éˆ•åŸºæœ¬æ¨£å¼ */
:deep(.add-event-button) {
  background-color: #1e2b37;
  color: white;
  border: none;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
}

/* âœ… æ¡Œæ©Ÿç‰ˆï¼šé¡¯ç¤ºæ–‡å­—+icon */
:deep(.add-event-button .icon) {
  display: none;
}

:deep(.add-event-button .text) {
  display: inline;
}

/* âœ… æ‰‹æ©Ÿç‰ˆ RWDï¼šåªé¡¯ç¤º icon */
@media (max-width: 600px) {
  :deep(.add-event-button .text) {
    display: none;
  }
  :deep(.add-event-button .icon) {
    display: inline;
    font-size: 16px;
  }
}

/* âœ… Modal æ¨£å¼ */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.modal {
  background: white;
  padding: 20px;
  border-radius: 8px;
  width: 90%;
  max-width: 300px;
}

.modal label {
  display: block;
  margin-bottom: 10px;
}

.modal input {
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
}

.modal-buttons {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
}
&lt;/style&gt;
</code></pre>
<hr>
<h1 id="ğŸ¯é€™ç‰ˆæœ‰ä»€éº¼æ”¹é€²ï¼Ÿ"><a href="#ğŸ¯é€™ç‰ˆæœ‰ä»€éº¼æ”¹é€²ï¼Ÿ" class="headerlink" title="ğŸ¯é€™ç‰ˆæœ‰ä»€éº¼æ”¹é€²ï¼Ÿ"></a>ğŸ¯é€™ç‰ˆæœ‰ä»€éº¼æ”¹é€²ï¼Ÿ</h1><table>
<thead>
<tr>
<th align="left">åŸæœ¬</th>
<th align="left">ç¾åœ¨</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>window.addEventToCalendar</code>ï¼ˆå¤–æ´©å…¨åŸŸï¼‰</td>
<td align="left">ç›´æ¥ä½¿ç”¨ <code>calendar</code> è®Šæ•¸</td>
</tr>
<tr>
<td align="left"><code>caldar</code> æ‰“éŒ¯</td>
<td align="left">æ­£ç¢ºæ˜¯ <code>calendar</code></td>
</tr>
<tr>
<td align="left">window æ›æ–¹æ³•ï¼Œä¸ä¹¾æ·¨</td>
<td align="left">å…¨éƒ¨ç•™åœ¨ <code>script setup</code> è£¡ç®¡ç†</td>
</tr>
<tr>
<td align="left">å°ç´°ç¯€éŒ¯èª¤</td>
<td align="left">å…¨éƒ¨æ ¡æ­£ &amp; å°ˆæ¥­åŒ–</td>
</tr>
</tbody></table>
<hr>
<h1 id="âœ…-ç¾åœ¨é€™ç‰ˆæ•ˆæœ"><a href="#âœ…-ç¾åœ¨é€™ç‰ˆæ•ˆæœ" class="headerlink" title="âœ… ç¾åœ¨é€™ç‰ˆæ•ˆæœ"></a>âœ… ç¾åœ¨é€™ç‰ˆæ•ˆæœ</h1><ul>
<li>é»æ—¥æœŸ â¡ï¸ å‡ºç¾æ·ºç°è‰²</li>
<li>è‡ªå‹•å‡ºç¾ã€Œæ–°å¢æ´»å‹•ã€æŒ‰éˆ•</li>
<li>æŒ‰ä¸‹ã€Œæ–°å¢æ´»å‹•ã€â¡ï¸ å½ˆå‡ºè¼¸å…¥è¡¨å–®</li>
<li>å„²å­˜å¾Œ â¡ï¸ æ´»å‹•ç›´æ¥é¡¯ç¤ºåœ¨è©²æ ¼å­è£¡</li>
<li>æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•è‡ªå‹•è®Šæˆå°åœ–ç¤º (RWD OK)</li>
</ul>
<hr>
<p>è¦ä¸è¦æˆ‘ä¹Ÿé †ä¾¿æ•™ä½ ï¼š</p>
<ul>
<li>æ€éº¼åŠ ã€Œç·¨è¼¯æ´»å‹•ã€ï¼Ÿ</li>
<li>æ€éº¼åŠ ã€Œåˆªé™¤æ´»å‹•ã€ï¼Ÿ</li>
<li>æˆ–æ˜¯ã€Œæ´»å‹•åˆ—è¡¨ã€ç®¡ç†ï¼Ÿ</li>
</ul>
<p>è¦çš„è©±è·Ÿæˆ‘èªªã€ç¹¼çºŒå‡ç´šã€‘ï¼Œæˆ‘å¯ä»¥å¸¶ä½ ä¸€æ­¥ä¸€æ­¥é€²éšï½ğŸš€âœ¨<br>è¦å—ï¼Ÿè¦çš„è©±å›æˆ‘ã€ç¹¼çºŒå‡ç´šã€‘ï¼ğŸŒŸ</p>

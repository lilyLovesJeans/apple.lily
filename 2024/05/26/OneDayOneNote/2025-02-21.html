<hr>
<h2 id="title-2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯date-2025-09-06-22-23-31tags-Javascript-Vue-description-2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯"><a href="#title-2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯date-2025-09-06-22-23-31tags-Javascript-Vue-description-2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯" class="headerlink" title="title: 2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯date: 2025-09-06 22:23:31tags:  [Javascript,Vue]description:  2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯"></a>title: 2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯<br>date: 2025-09-06 22:23:31<br>tags:  [Javascript,Vue]<br>description:  2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯</h2><h1 id="2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯"><a href="#2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯" class="headerlink" title="2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯"></a>2025-02-21-ç·´ç¿’éåŒæ­¥è™•ç†èˆ‡é™¤éŒ¯</h1><h3 id="âœ…-ç·´ç¿’ç›®æ¨™ï¼š"><a href="#âœ…-ç·´ç¿’ç›®æ¨™ï¼š" class="headerlink" title="âœ… ç·´ç¿’ç›®æ¨™ï¼š"></a>âœ… ç·´ç¿’ç›®æ¨™ï¼š</h3><p>ä½ å°‡æœƒæ‰‹å‹•å¯«ä¸€æ®µ <code>fetch()</code> ç¨‹å¼ï¼Œä¸ç”¨ <code>async/await</code>ï¼Œç›´æ¥ç”¨ <code>.then()</code> ä¾†è™•ç† <code>Promise</code>ï¼Œä¸¦åŠ ä¸Š <code>console.log()</code> åšé™¤éŒ¯ã€‚</p>
<hr>
<h3 id="ğŸ§ª-ç·´ç¿’ç¯„ä¾‹ï¼šç”¨-then-æŸ¥è©¢-CWA-å¤©æ°£è³‡æ–™"><a href="#ğŸ§ª-ç·´ç¿’ç¯„ä¾‹ï¼šç”¨-then-æŸ¥è©¢-CWA-å¤©æ°£è³‡æ–™" class="headerlink" title="ğŸ§ª ç·´ç¿’ç¯„ä¾‹ï¼šç”¨ .then() æŸ¥è©¢ CWA å¤©æ°£è³‡æ–™"></a>ğŸ§ª ç·´ç¿’ç¯„ä¾‹ï¼šç”¨ <code>.then()</code> æŸ¥è©¢ CWA å¤©æ°£è³‡æ–™</h3><p>è«‹è²¼åˆ° Vue <code>&lt;script setup&gt;</code> è£¡è©¦è©¦çœ‹é€™æ®µç¨‹å¼ç¢¼ï¼ˆåªè¦ä½ æœ‰ API Keyï¼‰ï¼š</p>
<pre><code class="vue">&lt;script setup&gt;
const apiKey = &#39;ä½ çš„APIé‡‘é‘°&#39;

function testApiWithThen() {
  const url = `https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=${apiKey}`

  console.log(&#39;é–‹å§‹ fetch...&#39;) // é™¤éŒ¯é»1ï¼šç¢ºèªæœ‰åŸ·è¡Œ

  fetch(url)
    .then(response =&gt; {
      console.log(&#39;å–å¾— response âœ”ï¸&#39;, response) // é™¤éŒ¯é»2
      return response.json()
    })
    .then(data =&gt; {
      console.log(&#39;å–å¾—è³‡æ–™ âœ…&#39;, data) // é™¤éŒ¯é»3
    })
    .catch(error =&gt; {
      console.error(&#39;âŒ ç™¼ç”ŸéŒ¯èª¤&#39;, error) // é™¤éŒ¯é»4
    })
}

// é é¢è¼‰å…¥æ™‚å…ˆæ¸¬è©¦ä¸€æ¬¡
testApiWithThen()
&lt;/script&gt;
</code></pre>
<hr>
<h3 id="ğŸ§ -é™¤éŒ¯æ€è€ƒæ–¹å¼ï¼š"><a href="#ğŸ§ -é™¤éŒ¯æ€è€ƒæ–¹å¼ï¼š" class="headerlink" title="ğŸ§  é™¤éŒ¯æ€è€ƒæ–¹å¼ï¼š"></a>ğŸ§  é™¤éŒ¯æ€è€ƒæ–¹å¼ï¼š</h3><ol>
<li><strong>æ²’é¡¯ç¤ºä»»ä½• logï¼Ÿ</strong> â†’ ä»£è¡¨ <code>testApiWithThen()</code> æ²’æœ‰è¢«å‘¼å«ã€‚</li>
<li><strong><code>.then()</code> æ²’åŸ·è¡Œï¼Ÿ</strong> â†’ å¯èƒ½æ˜¯ <code>fetch</code> æœ¬èº«éŒ¯èª¤ï¼ˆURL æˆ–ç¶²è·¯ï¼‰ã€‚</li>
<li><strong>è³‡æ–™æ ¼å¼éŒ¯èª¤ï¼Ÿ</strong> â†’ æª¢æŸ¥ <code>.json()</code> çš„çµæ§‹ã€‚</li>
<li><strong>CORS æˆ– API Key éŒ¯èª¤ï¼Ÿ</strong> â†’ éŒ¯èª¤æœƒå‡ºç¾åœ¨ <code>catch()</code> è£¡ã€‚</li>
</ol>
<hr>
<h3 id="âœ…-ç·´ç¿’æ–¹å‘"><a href="#âœ…-ç·´ç¿’æ–¹å‘" class="headerlink" title="âœ… ç·´ç¿’æ–¹å‘"></a>âœ… ç·´ç¿’æ–¹å‘</h3><ol>
<li><strong>æŠŠ <code>url</code> æ”¹éŒ¯ä¸€é»</strong> çœ‹ <code>.catch()</code> æ˜¯å¦æœ‰æ•æ‰ã€‚</li>
<li><strong>æ•…æ„æŠŠ <code>apiKey</code> æ¸…æ‰æˆ–æ‰“éŒ¯</strong> çœ‹éŒ¯èª¤è¨Šæ¯ã€‚</li>
<li>**å°å‡º <code>data.records</code>**ï¼Œä½ å°±èƒ½çŸ¥é“å¤©æ°£è³‡æ–™æ˜¯å¦æœ‰æ‹¿åˆ°ã€‚</li>
</ol>
<hr>

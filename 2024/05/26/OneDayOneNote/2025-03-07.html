<hr>
<h2 id="title-20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬-3-æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚date-2025-09-06-23-01-39tags-Javascript-Vue-description-20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬-3-æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚"><a href="#title-20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬-3-æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚date-2025-09-06-23-01-39tags-Javascript-Vue-description-20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬-3-æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚" class="headerlink" title="title: 20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬ 3 æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚date: 2025-09-06 23:01:39tags:  [Javascript,Vue]description: 20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬ 3 æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚"></a>title: 20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬ 3 æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚<br>date: 2025-09-06 23:01:39<br>tags:  [Javascript,Vue]<br>description: 20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬ 3 æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚</h2><h1 id="20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬-3-æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚"><a href="#20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬-3-æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚" class="headerlink" title="20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬ 3 æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚"></a>20250307-å¤©æ°£æŸ¥è©¢æ‡‰ç”¨ç¨‹å¼ã€çš„ç¬¬ 3 æ­¥ï¼šè‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚</h1><p>ä½ ç¾åœ¨çš„ç¨‹å¼å…¶å¯¦<strong>å·²ç¶“èƒ½é¡¯ç¤ºä¸‰å€‹åŸå¸‚çš„å¤©æ°£</strong>äº†ï¼ˆè‡ºåŒ—å¸‚ã€è‡ºä¸­å¸‚ã€é«˜é›„å¸‚ï¼‰ï¼Œå› ç‚ºä½ ç”¨é€™è¡Œç¯©é¸äº†è³‡æ–™ï¼š</p>
<pre><code class="js">const allCities = [&#39;è‡ºåŒ—å¸‚&#39;, &#39;è‡ºä¸­å¸‚&#39;, &#39;é«˜é›„å¸‚&#39;]
</code></pre>
<hr>
<h3 id="âœ…-ä¸‹ä¸€æ­¥ç›®æ¨™ï¼ˆä½ èªªçš„ã€Œå¯ä»¥ä¸€æ¬¡é¸ä¸‰å€‹åŸå¸‚ã€ï¼‰ï¼š"><a href="#âœ…-ä¸‹ä¸€æ­¥ç›®æ¨™ï¼ˆä½ èªªçš„ã€Œå¯ä»¥ä¸€æ¬¡é¸ä¸‰å€‹åŸå¸‚ã€ï¼‰ï¼š" class="headerlink" title="âœ… ä¸‹ä¸€æ­¥ç›®æ¨™ï¼ˆä½ èªªçš„ã€Œå¯ä»¥ä¸€æ¬¡é¸ä¸‰å€‹åŸå¸‚ã€ï¼‰ï¼š"></a>âœ… ä¸‹ä¸€æ­¥ç›®æ¨™ï¼ˆä½ èªªçš„ã€Œå¯ä»¥ä¸€æ¬¡é¸ä¸‰å€‹åŸå¸‚ã€ï¼‰ï¼š</h3><p>ä½ æƒ³è®“ä½¿ç”¨è€…ã€Œ<strong>è‡ªç”±é¸æ“‡ä¸‰å€‹åŸå¸‚</strong>ã€ï¼Œè€Œä¸æ˜¯ç¨‹å¼å¯«æ­»ä¸‰å€‹åŸå¸‚åç¨±ã€‚</p>
<hr>
<h2 id="âœ…-ä¿®æ”¹ç›®æ¨™ï¼š"><a href="#âœ…-ä¿®æ”¹ç›®æ¨™ï¼š" class="headerlink" title="âœ… ä¿®æ”¹ç›®æ¨™ï¼š"></a>âœ… ä¿®æ”¹ç›®æ¨™ï¼š</h2><p>è®“ä½¿ç”¨è€…å¾åŸå¸‚ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡ä¸‰å€‹åŸå¸‚ï¼Œä¸¦é¡¯ç¤ºå®ƒå€‘çš„å¤©æ°£è³‡è¨Šã€‚</p>
<hr>
<h2 id="âœ…-ç¬¬ä¸€æ­¥ï¼šæ–°å¢ä¸€å€‹å¤šé¸ä¸‹æ‹‰é¸å–®"><a href="#âœ…-ç¬¬ä¸€æ­¥ï¼šæ–°å¢ä¸€å€‹å¤šé¸ä¸‹æ‹‰é¸å–®" class="headerlink" title="âœ… ç¬¬ä¸€æ­¥ï¼šæ–°å¢ä¸€å€‹å¤šé¸ä¸‹æ‹‰é¸å–®"></a>âœ… ç¬¬ä¸€æ­¥ï¼šæ–°å¢ä¸€å€‹å¤šé¸ä¸‹æ‹‰é¸å–®</h2><pre><code class="html">&lt;select multiple v-model=&quot;selectedCities&quot;&gt;
  &lt;option v-for=&quot;city in allCityNames&quot; :key=&quot;city&quot;&gt;{{ city }}&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<hr>
<h2 id="âœ…-å®Œæ•´ç¨‹å¼ç¢¼ï¼ˆæ”¯æ´è‡ªç”±é¸ä¸‰åŸå¸‚ï¼‰"><a href="#âœ…-å®Œæ•´ç¨‹å¼ç¢¼ï¼ˆæ”¯æ´è‡ªç”±é¸ä¸‰åŸå¸‚ï¼‰" class="headerlink" title="âœ… å®Œæ•´ç¨‹å¼ç¢¼ï¼ˆæ”¯æ´è‡ªç”±é¸ä¸‰åŸå¸‚ï¼‰"></a>âœ… å®Œæ•´ç¨‹å¼ç¢¼ï¼ˆæ”¯æ´è‡ªç”±é¸ä¸‰åŸå¸‚ï¼‰</h2><pre><code class="vue">&lt;template&gt;
  &lt;h2&gt;ğŸŒ¦ï¸ è‡ªé¸ä¸‰å€‹åŸå¸‚å¤©æ°£æ¦‚æ³&lt;/h2&gt;

  &lt;!-- å¤šé¸åŸå¸‚ --&gt;
  &lt;label&gt;é¸æ“‡æœ€å¤šä¸‰å€‹åŸå¸‚ï¼š&lt;/label&gt;
  &lt;select multiple v-model=&quot;selectedCities&quot;&gt;
    &lt;option v-for=&quot;city in allCityNames&quot; :key=&quot;city&quot;&gt;{{ city }}&lt;/option&gt;
  &lt;/select&gt;
  &lt;p&gt;ç›®å‰é¸æ“‡ï¼š{{ selectedCities.join(&#39;, &#39;) }}&lt;/p&gt;

  &lt;div class=&quot;weather-container&quot;&gt;
    &lt;div v-for=&quot;city in filteredWeatherData&quot; :key=&quot;city.locationName&quot; class=&quot;city-card&quot;&gt;
      &lt;h3&gt;ğŸŒ† {{ city.locationName }}&lt;/h3&gt;
      &lt;p&gt;â˜€ï¸ å¤©æ°£ï¼š{{ getWeatherElement(city, &#39;Wx&#39;) }}&lt;/p&gt;
      &lt;p&gt;ğŸ”¥ æœ€é«˜æº«ï¼š{{ getWeatherElement(city, &#39;MaxT&#39;) }}Â°C&lt;/p&gt;
      &lt;p&gt;â„ï¸ æœ€ä½æº«ï¼š{{ getWeatherElement(city, &#39;MinT&#39;) }}Â°C&lt;/p&gt;
      &lt;p&gt;ğŸŒ§ï¸ é™é›¨æ©Ÿç‡ï¼š{{ getWeatherElement(city, &#39;PoP&#39;) }}%&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, computed, onMounted } from &#39;vue&#39;

const apiKey = &#39;ä½ çš„ CWA API Key&#39; // è«‹æ›¿æ›æˆä½ çš„ key
const url = `https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=${apiKey}`

const weatherData = ref([])
const allCityNames = ref([])
const selectedCities = ref([])

onMounted(async () =&gt; {
  try {
    const response = await fetch(url)
    const data = await response.json()
    const locations = data.records.location

    weatherData.value = locations
    allCityNames.value = locations.map(loc =&gt; loc.locationName)

    // é è¨­ä¸‰å€‹åŸå¸‚
    selectedCities.value = [&#39;è‡ºåŒ—å¸‚&#39;, &#39;è‡ºä¸­å¸‚&#39;, &#39;é«˜é›„å¸‚&#39;]
  } catch (error) {
    console.error(&#39;âŒ ç™¼ç”ŸéŒ¯èª¤:&#39;, error)
  }
})

const filteredWeatherData = computed(() =&gt;
  weatherData.value.filter(city =&gt; selectedCities.value.includes(city.locationName))
)

function getWeatherElement(city, elementName) {
  const element = city.weatherElement.find(el =&gt; el.elementName === elementName)
  return element?.time[0]?.parameter?.parameterName || &#39;N/A&#39;
}
&lt;/script&gt;

&lt;style scoped&gt;
select {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 1rem;
  font-size: 1rem;
}

.weather-container {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
}

.city-card {
  flex: 1 1 300px;
  max-width: 300px;
  background: #f0f8ff;
  padding: 1rem;
  border-radius: 0.75rem;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  border-left: 6px solid #3498db;
}
&lt;/style&gt;
</code></pre>
<hr>
<h2 id="âœ…-Bonus-å°æé†’ï¼šé™åˆ¶æœ€å¤šé¸ä¸‰å€‹åŸå¸‚ï¼ˆé€²éšï¼‰"><a href="#âœ…-Bonus-å°æé†’ï¼šé™åˆ¶æœ€å¤šé¸ä¸‰å€‹åŸå¸‚ï¼ˆé€²éšï¼‰" class="headerlink" title="âœ… Bonus å°æé†’ï¼šé™åˆ¶æœ€å¤šé¸ä¸‰å€‹åŸå¸‚ï¼ˆé€²éšï¼‰"></a>âœ… Bonus å°æé†’ï¼šé™åˆ¶æœ€å¤šé¸ä¸‰å€‹åŸå¸‚ï¼ˆé€²éšï¼‰</h2><p>ä½ å¯ä»¥åŠ å…¥æª¢æŸ¥é‚è¼¯ï¼Œé™åˆ¶ä½¿ç”¨è€…æœ€å¤šåªèƒ½é¸ä¸‰å€‹åŸå¸‚ï¼Œæœ‰éœ€è¦æˆ‘å¯ä»¥å¹«ä½ åŠ ä¸Šé€™æ®µé‚è¼¯ã€‚</p>
<hr>
<p>éœ€è¦æˆ‘å¹«ä½ åŠ ã€Œé™åˆ¶åªèƒ½é¸ä¸‰å€‹åŸå¸‚ã€æˆ–ã€Œæ ¹æ“šå¤©æ°£è®ŠåŒ–è®Šè‰²èƒŒæ™¯ã€å—ï¼ŸğŸ‘€</p>
<p>å¥½çš„ï¼ä»¥ä¸‹æ˜¯åŠ ä¸Šã€Œ<strong>æœ€å¤šåªèƒ½é¸ä¸‰å€‹åŸå¸‚</strong>ã€çš„ç‰ˆæœ¬ âœ…<br>ç•¶ä½¿ç”¨è€…é¸è¶…éä¸‰å€‹æ™‚ï¼Œæœƒè‡ªå‹•ç§»é™¤æœ€å¾Œé¸çš„é‚£å€‹ï¼Œä¸¦é¡¯ç¤ºè­¦å‘Šã€‚</p>
<hr>
<h2 id="âœ…-å®Œæ•´ç¨‹å¼ç¢¼ï¼šé™åˆ¶é¸æœ€å¤šä¸‰å€‹åŸå¸‚"><a href="#âœ…-å®Œæ•´ç¨‹å¼ç¢¼ï¼šé™åˆ¶é¸æœ€å¤šä¸‰å€‹åŸå¸‚" class="headerlink" title="âœ… å®Œæ•´ç¨‹å¼ç¢¼ï¼šé™åˆ¶é¸æœ€å¤šä¸‰å€‹åŸå¸‚"></a>âœ… å®Œæ•´ç¨‹å¼ç¢¼ï¼šé™åˆ¶é¸æœ€å¤šä¸‰å€‹åŸå¸‚</h2><pre><code class="vue">&lt;template&gt;
  &lt;h2&gt;ğŸŒ¦ï¸ è‡ªé¸ä¸‰å€‹åŸå¸‚å¤©æ°£æ¦‚æ³&lt;/h2&gt;

  &lt;!-- å¤šé¸åŸå¸‚ --&gt;
  &lt;label&gt;è«‹é¸æ“‡æœ€å¤šä¸‰å€‹åŸå¸‚ï¼š&lt;/label&gt;
  &lt;select multiple v-model=&quot;selectedCities&quot; @change=&quot;checkLimit&quot;&gt;
    &lt;option v-for=&quot;city in allCityNames&quot; :key=&quot;city&quot;&gt;{{ city }}&lt;/option&gt;
  &lt;/select&gt;
  &lt;p&gt;ç›®å‰é¸æ“‡ï¼š{{ selectedCities.join(&#39;, &#39;) }}&lt;/p&gt;
  &lt;p v-if=&quot;limitReached&quot; style=&quot;color: red;&quot;&gt;âš ï¸ æœ€å¤šåªèƒ½é¸ä¸‰å€‹åŸå¸‚&lt;/p&gt;

  &lt;div class=&quot;weather-container&quot;&gt;
    &lt;div v-for=&quot;city in filteredWeatherData&quot; :key=&quot;city.locationName&quot; class=&quot;city-card&quot;&gt;
      &lt;h3&gt;ğŸŒ† {{ city.locationName }}&lt;/h3&gt;
      &lt;p&gt;â˜€ï¸ å¤©æ°£ï¼š{{ getWeatherElement(city, &#39;Wx&#39;) }}&lt;/p&gt;
      &lt;p&gt;ğŸ”¥ æœ€é«˜æº«ï¼š{{ getWeatherElement(city, &#39;MaxT&#39;) }}Â°C&lt;/p&gt;
      &lt;p&gt;â„ï¸ æœ€ä½æº«ï¼š{{ getWeatherElement(city, &#39;MinT&#39;) }}Â°C&lt;/p&gt;
      &lt;p&gt;ğŸŒ§ï¸ é™é›¨æ©Ÿç‡ï¼š{{ getWeatherElement(city, &#39;PoP&#39;) }}%&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, computed, onMounted } from &#39;vue&#39;

const apiKey = &#39;ä½ çš„ CWA API Key&#39; // è«‹æ›æˆä½ çš„
const url = `https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=${apiKey}`

const weatherData = ref([])
const allCityNames = ref([])
const selectedCities = ref([])
const limitReached = ref(false)

onMounted(async () =&gt; {
  try {
    const response = await fetch(url)
    const data = await response.json()
    const locations = data.records.location

    weatherData.value = locations
    allCityNames.value = locations.map(loc =&gt; loc.locationName)

    // é è¨­ä¸‰å€‹åŸå¸‚
    selectedCities.value = [&#39;è‡ºåŒ—å¸‚&#39;, &#39;è‡ºä¸­å¸‚&#39;, &#39;é«˜é›„å¸‚&#39;]
  } catch (error) {
    console.error(&#39;âŒ ç™¼ç”ŸéŒ¯èª¤:&#39;, error)
  }
})

// âœ… é™åˆ¶æœ€å¤šä¸‰å€‹åŸå¸‚
function checkLimit() {
  if (selectedCities.value.length &gt; 3) {
    selectedCities.value.pop() // ç§»é™¤æœ€å¾Œé¸çš„
    limitReached.value = true
    setTimeout(() =&gt; {
      limitReached.value = false
    }, 2000)
  }
}

const filteredWeatherData = computed(() =&gt;
  weatherData.value.filter(city =&gt; selectedCities.value.includes(city.locationName))
)

function getWeatherElement(city, elementName) {
  const element = city.weatherElement.find(el =&gt; el.elementName === elementName)
  return element?.time[0]?.parameter?.parameterName || &#39;N/A&#39;
}
&lt;/script&gt;

&lt;style scoped&gt;
select {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.weather-container {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
}

.city-card {
  flex: 1 1 300px;
  max-width: 300px;
  background: #f0f8ff;
  padding: 1rem;
  border-radius: 0.75rem;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  border-left: 6px solid #3498db;
}
&lt;/style&gt;
</code></pre>
<hr>
<h3 id="ğŸ§ -é‡é»èªªæ˜ï¼š"><a href="#ğŸ§ -é‡é»èªªæ˜ï¼š" class="headerlink" title="ğŸ§  é‡é»èªªæ˜ï¼š"></a>ğŸ§  é‡é»èªªæ˜ï¼š</h3><table>
<thead>
<tr>
<th>éƒ¨åˆ†</th>
<th>èªªæ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>@change=&quot;checkLimit&quot;</code></td>
<td>æ¯æ¬¡ä¸‹æ‹‰é¸å–®è®Šå‹•æ™‚ï¼Œè§¸ç™¼æª¢æŸ¥</td>
</tr>
<tr>
<td><code>selectedCities.value.pop()</code></td>
<td>è¶…é 3 å€‹ï¼Œå°±æŠŠæœ€å¾Œé¸çš„ç§»é™¤</td>
</tr>
<tr>
<td><code>limitReached</code></td>
<td>ç”¨ä¾†æ§åˆ¶æ˜¯å¦é¡¯ç¤ºè­¦å‘Šè¨Šæ¯</td>
</tr>
</tbody></table>
<hr>
<p>ä½ å¯ä»¥è‡ªå·±è©¦è‘—æŠŠ <code>3</code> æ”¹æˆ <code>2</code> æˆ– <code>5</code> çœ‹æœƒç™¼ç”Ÿä»€éº¼ï½</p>

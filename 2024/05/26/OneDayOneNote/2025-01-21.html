<hr>
<h2 id="title-2025-01-21-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11date-2025-05-05-22-34-30tags-Javascript-Vue-description-2025-01-21-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11"><a href="#title-2025-01-21-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11date-2025-05-05-22-34-30tags-Javascript-Vue-description-2025-01-21-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11" class="headerlink" title="title: 2025-01-21 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11date: 2025-05-05 22:34:30tags:  [Javascript,Vue]description:  2025-01-21 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11"></a>title: 2025-01-21 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11<br>date: 2025-05-05 22:34:30<br>tags:  [Javascript,Vue]<br>description:  2025-01-21 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11</h2><h2 id="2025-01-21-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11"><a href="#2025-01-21-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11" class="headerlink" title="2025-01-21 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11"></a>2025-01-21 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ11</h2><p>ä¸‹ä¸€æ­¥:<br>é»æ“Šè¡Œäº‹æ›†å…§çš„æ´»å‹•ï¼Œå¯ä»¥åˆªé™¤æ´»å‹•ã€‚è«‹ä½¿ç”¨ javascript å…§å»ºçš„ confirm å‡½å¼ï¼Œç¢ºèªã€Œæ˜¯å¦åˆªé™¤æ­¤ç­†æ´»å‹•ï¼Ÿã€å¾Œåˆªé™¤</p>
<p>å¾ˆå¥½ï¼ä½ ç¾åœ¨è¦å¯¦ä½œçš„åŠŸèƒ½æ˜¯ï¼š<br>ğŸ‘‰ <strong>é»æ“Šè¡Œäº‹æ›†å…§çš„æ´»å‹•ï¼Œè·³å‡º <code>confirm</code>ï¼Œç¢ºèªå¾Œåˆªé™¤æ´»å‹•ï¼Œä¸¦å¾ <code>localStorage</code> ç§»é™¤</strong></p>
<hr>
<h3 id="âœ…-ç¬¬ä¸€æ­¥ï¼šåŠ å…¥-eventClick-äº‹ä»¶è™•ç†"><a href="#âœ…-ç¬¬ä¸€æ­¥ï¼šåŠ å…¥-eventClick-äº‹ä»¶è™•ç†" class="headerlink" title="âœ… ç¬¬ä¸€æ­¥ï¼šåŠ å…¥ eventClick äº‹ä»¶è™•ç†"></a>âœ… ç¬¬ä¸€æ­¥ï¼šåŠ å…¥ <code>eventClick</code> äº‹ä»¶è™•ç†</h3><p>åœ¨ä½ åˆå§‹åŒ– FullCalendar çš„ <code>new Calendar(...)</code> è£¡ï¼Œæ–°å¢ï¼š</p>
<pre><code class="js">eventClick(info) {
  const confirmed = confirm(`æ˜¯å¦åˆªé™¤æ´»å‹•ã€Œ${info.event.title}ã€ï¼Ÿ`)
  if (confirmed) {
    info.event.remove() // âœ… å¾è¡Œäº‹æ›†ä¸Šç§»é™¤
    deleteEventFromLocalStorage(info.event) // âœ… è‡ª localStorage ç§»é™¤
  }
}
</code></pre>
<hr>
<h3 id="âœ…-ç¬¬äºŒæ­¥ï¼šæ–°å¢-deleteEventFromLocalStorage-å‡½å¼"><a href="#âœ…-ç¬¬äºŒæ­¥ï¼šæ–°å¢-deleteEventFromLocalStorage-å‡½å¼" class="headerlink" title="âœ… ç¬¬äºŒæ­¥ï¼šæ–°å¢ deleteEventFromLocalStorage å‡½å¼"></a>âœ… ç¬¬äºŒæ­¥ï¼šæ–°å¢ <code>deleteEventFromLocalStorage</code> å‡½å¼</h3><p>åœ¨ <code>&lt;script setup&gt;</code> è£¡çš„ <code>saveEventToLocalStorage()</code> ä¸‹æ–¹ï¼ŒåŠ ä¸Šé€™æ®µï¼š</p>
<pre><code class="js">function deleteEventFromLocalStorage(event) {
  const events = JSON.parse(localStorage.getItem(STORAGE_KEY)) || []

  // ä¾ç…§ title å’Œ start å®Œå…¨æ¯”å°
  const updatedEvents = events.filter(e =&gt; {
    return !(e.title === event.title &amp;&amp; e.start === event.start)
  })

  localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedEvents))
}
</code></pre>
<hr>
<h3 id="âœ…-å®Œæ•´ä½ç½®èªªæ˜"><a href="#âœ…-å®Œæ•´ä½ç½®èªªæ˜" class="headerlink" title="âœ… å®Œæ•´ä½ç½®èªªæ˜"></a>âœ… å®Œæ•´ä½ç½®èªªæ˜</h3><pre><code class="js">calendar = new window.FullCalendar.Calendar(calendarRef.value, {
  ...
  events: loadEventsFromLocalStorage(),
  dateClick(info) { ... },
  eventClick(info) {       // âœ… â† åŠ é€™è£¡
    const confirmed = confirm(`æ˜¯å¦åˆªé™¤æ´»å‹•ã€Œ${info.event.title}ã€ï¼Ÿ`)
    if (confirmed) {
      info.event.remove()
      deleteEventFromLocalStorage(info.event)
    }
  }
})
</code></pre>
<hr>
<p>è¦æˆ‘å¹«ä½ ä¸€èµ·åŠ ä¸€å€‹ã€Œæ´»å‹•åˆªé™¤æˆåŠŸã€çš„æç¤ºå—ï¼ŸğŸ’¡</p>

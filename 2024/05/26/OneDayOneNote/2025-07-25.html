<hr>
<h2 id="title-2025-07-25-Line-è¨‚å–®ç³»çµ±-NestJS-ç¬¬1-ï½7æ­¥é©Ÿdate-2025-11-17-20-56-40categories-OneDayOneNotetags-OneNote-Lineè¨‚å–®ç³»çµ±-description-2025-07-25-Line-è¨‚å–®ç³»çµ±-NestJS-ç¬¬1-ï½7æ­¥é©Ÿ"><a href="#title-2025-07-25-Line-è¨‚å–®ç³»çµ±-NestJS-ç¬¬1-ï½7æ­¥é©Ÿdate-2025-11-17-20-56-40categories-OneDayOneNotetags-OneNote-Lineè¨‚å–®ç³»çµ±-description-2025-07-25-Line-è¨‚å–®ç³»çµ±-NestJS-ç¬¬1-ï½7æ­¥é©Ÿ" class="headerlink" title="title: 2025-07-25 Line è¨‚å–®ç³»çµ±- NestJS ç¬¬1 ï½7æ­¥é©Ÿdate: 2025-11-17 20:56:40categories: OneDayOneNotetags:  [OneNote, Lineè¨‚å–®ç³»çµ±]description:   2025-07-25 Line è¨‚å–®ç³»çµ±- NestJS ç¬¬1 ï½7æ­¥é©Ÿ"></a>title: 2025-07-25 Line è¨‚å–®ç³»çµ±- NestJS ç¬¬1 ï½7æ­¥é©Ÿ<br>date: 2025-11-17 20:56:40<br>categories: OneDayOneNote<br>tags:  [OneNote, Lineè¨‚å–®ç³»çµ±]<br>description:   2025-07-25 Line è¨‚å–®ç³»çµ±- NestJS ç¬¬1 ï½7æ­¥é©Ÿ</h2><h2 id="2025-07-25-Line-è¨‚å–®ç³»çµ±-NestJS-ç¬¬1-ï½7æ­¥é©Ÿ"><a href="#2025-07-25-Line-è¨‚å–®ç³»çµ±-NestJS-ç¬¬1-ï½7æ­¥é©Ÿ" class="headerlink" title="2025-07-25 Line è¨‚å–®ç³»çµ±- NestJS ç¬¬1 ï½7æ­¥é©Ÿ"></a>2025-07-25 Line è¨‚å–®ç³»çµ±- NestJS ç¬¬1 ï½7æ­¥é©Ÿ</h2><p>å…·å‚™ï¼š<br>âœ” æ¨¡çµ„åŒ–æ¦‚å¿µ<br>âœ” Controller &#x2F; Service åˆ†å±¤çš„æ¦‚å¿µ<br>âœ” DTO<br>âœ” DI æ³¨å…¥<br>âœ” Entity &#x2F; Interface<br>âœ” éŸ¿æ‡‰æµç¨‹å¾ Service â†’ Controller çš„è¦åŠƒ</p>
<p>ä½ å·²å…·å‚™ç†è§£ NestJS çš„æœ€æ ¸å¿ƒæŠ½è±¡èƒ½åŠ›ã€‚<br>ç¾åœ¨åªéœ€è¦ <strong>æŠŠæŠ½è±¡è®Šæˆå…·é«”</strong>ï¼Œä½ å°±èƒ½çœŸæ­£ç”¨ NestJS å †å‡ºä½ çš„è—åœ–ã€‚</p>
<hr>
<h1 id="ğŸ‰-é‚£æˆ‘å€‘ç«‹å³é–‹å§‹ã€Œç¬¬ä¸€å¡Šç©æœ¨ã€å§ï¼"><a href="#ğŸ‰-é‚£æˆ‘å€‘ç«‹å³é–‹å§‹ã€Œç¬¬ä¸€å¡Šç©æœ¨ã€å§ï¼" class="headerlink" title="ğŸ‰ é‚£æˆ‘å€‘ç«‹å³é–‹å§‹ã€Œç¬¬ä¸€å¡Šç©æœ¨ã€å§ï¼"></a>ğŸ‰ é‚£æˆ‘å€‘ç«‹å³é–‹å§‹ã€Œç¬¬ä¸€å¡Šç©æœ¨ã€å§ï¼</h1><p>æˆ‘æœƒå¸¶ä½ ä¸€æ­¥ä¸€æ­¥å»ºï¼š</p>
<ol>
<li><strong>Module</strong></li>
<li><strong>Controller</strong></li>
<li><strong>Service</strong></li>
<li><strong>DTOï¼ˆå« Validationï¼‰</strong></li>
<li><strong>Entity</strong></li>
<li><strong>DI æ³¨å…¥</strong></li>
<li><strong>ç¬¬ä¸€å€‹ REST APIï¼šGET &#x2F;products</strong></li>
</ol>
<p>åšå®Œå¾Œï¼Œä½ æœƒæœ‰ä¸€å€‹ <strong>å®Œæ•´èƒ½ç”¨çš„ Products è³‡æ–™å¤¾æ¶æ§‹</strong>ï¼Œå¾ŒçºŒæ‰€æœ‰åŠŸèƒ½ï¼ˆOrdersã€LINE Webhookã€AIå®¢æœã€Dashboardâ€¦ï¼‰éƒ½å¯ä»¥è¤‡è£½é€™å€‹æ¨¡å¼ã€‚</p>
<hr>
<h1 id="ğŸ§±ã€ç¬¬ä¸€æ­¥ã€‘å»ºç«‹-Products-Moduleï¼ˆç©æœ¨-01ï¼‰"><a href="#ğŸ§±ã€ç¬¬ä¸€æ­¥ã€‘å»ºç«‹-Products-Moduleï¼ˆç©æœ¨-01ï¼‰" class="headerlink" title="ğŸ§±ã€ç¬¬ä¸€æ­¥ã€‘å»ºç«‹ Products Moduleï¼ˆç©æœ¨ 01ï¼‰"></a>ğŸ§±ã€ç¬¬ä¸€æ­¥ã€‘å»ºç«‹ Products Moduleï¼ˆç©æœ¨ 01ï¼‰</h1><p>è«‹åœ¨ NestJS å°ˆæ¡ˆä¸­åŸ·è¡Œï¼š</p>
<pre><code class="bash">nest g module products
</code></pre>
<p>é€™æœƒå»ºç«‹ï¼š</p>
<pre><code>src/products/products.module.ts
</code></pre>
<hr>
<h1 id="ğŸ§±ã€ç¬¬äºŒæ­¥ã€‘å»ºç«‹-Controllerï¼ˆç©æœ¨-02ï¼‰"><a href="#ğŸ§±ã€ç¬¬äºŒæ­¥ã€‘å»ºç«‹-Controllerï¼ˆç©æœ¨-02ï¼‰" class="headerlink" title="ğŸ§±ã€ç¬¬äºŒæ­¥ã€‘å»ºç«‹ Controllerï¼ˆç©æœ¨ 02ï¼‰"></a>ğŸ§±ã€ç¬¬äºŒæ­¥ã€‘å»ºç«‹ Controllerï¼ˆç©æœ¨ 02ï¼‰</h1><pre><code class="bash">nest g controller products
</code></pre>
<p>å»ºç«‹ï¼š</p>
<pre><code>src/products/products.controller.ts
</code></pre>
<hr>
<h1 id="ğŸ§±ã€ç¬¬ä¸‰æ­¥ã€‘å»ºç«‹-Serviceï¼ˆç©æœ¨-03ï¼‰"><a href="#ğŸ§±ã€ç¬¬ä¸‰æ­¥ã€‘å»ºç«‹-Serviceï¼ˆç©æœ¨-03ï¼‰" class="headerlink" title="ğŸ§±ã€ç¬¬ä¸‰æ­¥ã€‘å»ºç«‹ Serviceï¼ˆç©æœ¨ 03ï¼‰"></a>ğŸ§±ã€ç¬¬ä¸‰æ­¥ã€‘å»ºç«‹ Serviceï¼ˆç©æœ¨ 03ï¼‰</h1><pre><code class="bash">nest g service products
</code></pre>
<p>å»ºç«‹ï¼š</p>
<pre><code>src/products/products.service.ts
</code></pre>
<hr>
<p>æ­¤æ™‚ä½ çš„çµæ§‹æ‡‰è©²æ˜¯ï¼š</p>
<pre><code>src/products/
 â”œâ”€â”€ products.module.ts
 â”œâ”€â”€ products.controller.ts
 â””â”€â”€ products.service.ts
</code></pre>
<p>âš¡ å·²ç¶“æ˜¯ä¼æ¥­ç´šæ¶æ§‹çš„è‹—èŠ½ï¼</p>
<hr>
<h1 id="ğŸ§±ã€ç¬¬å››æ­¥ã€‘å»ºç«‹-Entityï¼ˆç©æœ¨-04ï¼‰"><a href="#ğŸ§±ã€ç¬¬å››æ­¥ã€‘å»ºç«‹-Entityï¼ˆç©æœ¨-04ï¼‰" class="headerlink" title="ğŸ§±ã€ç¬¬å››æ­¥ã€‘å»ºç«‹ Entityï¼ˆç©æœ¨ 04ï¼‰"></a>ğŸ§±ã€ç¬¬å››æ­¥ã€‘å»ºç«‹ Entityï¼ˆç©æœ¨ 04ï¼‰</h1><p>å»ºç«‹ä¸€å€‹ <code>product.entity.ts</code></p>
<pre><code class="ts">// src/products/entities/product.entity.ts
export class Product {
  id: number;
  name: string;
  price: number;
  stock: number;
}
</code></pre>
<hr>
<h1 id="ğŸ§±ã€ç¬¬äº”æ­¥ã€‘å»ºç«‹-DTOï¼ˆç©æœ¨-05ï¼‰"><a href="#ğŸ§±ã€ç¬¬äº”æ­¥ã€‘å»ºç«‹-DTOï¼ˆç©æœ¨-05ï¼‰" class="headerlink" title="ğŸ§±ã€ç¬¬äº”æ­¥ã€‘å»ºç«‹ DTOï¼ˆç©æœ¨ 05ï¼‰"></a>ğŸ§±ã€ç¬¬äº”æ­¥ã€‘å»ºç«‹ DTOï¼ˆç©æœ¨ 05ï¼‰</h1><pre><code class="ts">// src/products/dto/create-product.dto.ts
import { IsString, IsNumber, IsNotEmpty } from &#39;class-validator&#39;;

export class CreateProductDto {
  @IsString()
  @IsNotEmpty()
  name: string;

  @IsNumber()
  price: number;

  @IsNumber()
  stock: number;
}
</code></pre>
<p>ä¸¦è¨˜å¾—åœ¨ <code>main.ts</code> åŠ  validation pipelineï¼š</p>
<pre><code class="ts">app.useGlobalPipes(new ValidationPipe());
</code></pre>
<hr>
<h1 id="ğŸ§±ã€ç¬¬å…­æ­¥ã€‘Service-å•†æ¥­é‚è¼¯ï¼ˆç©æœ¨-06ï¼‰"><a href="#ğŸ§±ã€ç¬¬å…­æ­¥ã€‘Service-å•†æ¥­é‚è¼¯ï¼ˆç©æœ¨-06ï¼‰" class="headerlink" title="ğŸ§±ã€ç¬¬å…­æ­¥ã€‘Service å•†æ¥­é‚è¼¯ï¼ˆç©æœ¨ 06ï¼‰"></a>ğŸ§±ã€ç¬¬å…­æ­¥ã€‘Service å•†æ¥­é‚è¼¯ï¼ˆç©æœ¨ 06ï¼‰</h1><pre><code class="ts">// src/products/products.service.ts
import { Injectable } from &#39;@nestjs/common&#39;;
import { Product } from &#39;./entities/product.entity&#39;;
import { CreateProductDto } from &#39;./dto/create-product.dto&#39;;

@Injectable()
export class ProductsService {
  private products: Product[] = [];

  findAll(): Product[] {
    return this.products;
  }

  create(dto: CreateProductDto): Product {
    const newProduct: Product = {
      id: this.products.length + 1,
      ...dto,
    };

    this.products.push(newProduct);
    return newProduct;
  }
}
</code></pre>
<hr>
<h1 id="ğŸ§±ã€ç¬¬ä¸ƒæ­¥ã€‘Controller-å®šç¾©-APIï¼ˆç©æœ¨-07ï¼‰"><a href="#ğŸ§±ã€ç¬¬ä¸ƒæ­¥ã€‘Controller-å®šç¾©-APIï¼ˆç©æœ¨-07ï¼‰" class="headerlink" title="ğŸ§±ã€ç¬¬ä¸ƒæ­¥ã€‘Controller å®šç¾© APIï¼ˆç©æœ¨ 07ï¼‰"></a>ğŸ§±ã€ç¬¬ä¸ƒæ­¥ã€‘Controller å®šç¾© APIï¼ˆç©æœ¨ 07ï¼‰</h1><pre><code class="ts">// src/products/products.controller.ts

import { Controller, Get, Post, Body } from &#39;@nestjs/common&#39;;
import { ProductsService } from &#39;./products.service&#39;;
import { CreateProductDto } from &#39;./dto/create-product.dto&#39;;

@Controller(&#39;products&#39;)
export class ProductsController {
  constructor(private readonly productsService: ProductsService) {}

  @Get()
  findAll() {
    return this.productsService.findAll();
  }

  @Post()
  create(@Body() dto: CreateProductDto) {
    return this.productsService.create(dto);
  }
}
</code></pre>
<hr>
<h1 id="ğŸ‰-æ­å–œï¼"><a href="#ğŸ‰-æ­å–œï¼" class="headerlink" title="ğŸ‰ æ­å–œï¼"></a>ğŸ‰ æ­å–œï¼</h1><p>ä½ å·²å®Œæˆç¬¬ä¸€å¡Šå®Œæ•´çš„ NestJS ç©æœ¨ï¼š</p>
<pre><code>ProductsModule
ProductsController
ProductsService
DTO + Validation
Entity
DI å®Œæˆ
API å®Œæˆ
</code></pre>
<p>è€Œä¸”æ¶æ§‹å·²ç¶“å®Œå…¨ç¬¦åˆï¼š</p>
<p>âœ” DI<br>âœ” åˆ†å±¤<br>âœ” ä¹¾æ·¨æ¶æ§‹<br>âœ” RESTful API<br>âœ” å¯æ“´å±•æ€§</p>
<hr>
<h1 id="æ¥ä¸‹ä¾†ä½ å¯ä»¥é¸æ“‡ï¼š"><a href="#æ¥ä¸‹ä¾†ä½ å¯ä»¥é¸æ“‡ï¼š" class="headerlink" title="æ¥ä¸‹ä¾†ä½ å¯ä»¥é¸æ“‡ï¼š"></a>æ¥ä¸‹ä¾†ä½ å¯ä»¥é¸æ“‡ï¼š</h1><h3 id="A-æˆ‘ç¹¼çºŒå¸¶ä½ åšã€ŒOrders-moduleã€"><a href="#A-æˆ‘ç¹¼çºŒå¸¶ä½ åšã€ŒOrders-moduleã€" class="headerlink" title="A. æˆ‘ç¹¼çºŒå¸¶ä½ åšã€ŒOrders moduleã€"></a>A. æˆ‘ç¹¼çºŒå¸¶ä½ åšã€ŒOrders moduleã€</h3><p>ï¼ˆä½ æœƒå­¸åˆ° service äº’ç›¸æ³¨å…¥ã€order â†’ product ä¹‹é–“é‚è¼¯ï¼‰</p>
<h3 id="B-æˆ‘å¸¶ä½ åšã€ŒLINE-Webhook-moduleã€"><a href="#B-æˆ‘å¸¶ä½ åšã€ŒLINE-Webhook-moduleã€" class="headerlink" title="B. æˆ‘å¸¶ä½ åšã€ŒLINE Webhook moduleã€"></a>B. æˆ‘å¸¶ä½ åšã€ŒLINE Webhook moduleã€</h3><p>ï¼ˆé–‹å§‹æ•´åˆ LINE botï¼‰</p>
<h3 id="C-æˆ‘å¸¶ä½ åšã€Œè³‡æ–™åº«-MySQL-ç‰ˆæœ¬ï¼ˆTypeORM-Prismaï¼‰ã€"><a href="#C-æˆ‘å¸¶ä½ åšã€Œè³‡æ–™åº«-MySQL-ç‰ˆæœ¬ï¼ˆTypeORM-Prismaï¼‰ã€" class="headerlink" title="C. æˆ‘å¸¶ä½ åšã€Œè³‡æ–™åº« MySQL ç‰ˆæœ¬ï¼ˆTypeORM&#x2F;Prismaï¼‰ã€"></a>C. æˆ‘å¸¶ä½ åšã€Œè³‡æ–™åº« MySQL ç‰ˆæœ¬ï¼ˆTypeORM&#x2F;Prismaï¼‰ã€</h3><p>ï¼ˆæŠŠ in-memory æ”¹æˆçœŸå¯¦ DBï¼‰</p>
<h3 id="D-å¸¶ä½ åšã€Œå¾Œå°ç®¡ç†-UI-APIã€"><a href="#D-å¸¶ä½ åšã€Œå¾Œå°ç®¡ç†-UI-APIã€" class="headerlink" title="D. å¸¶ä½ åšã€Œå¾Œå°ç®¡ç† UI + APIã€"></a>D. å¸¶ä½ åšã€Œå¾Œå°ç®¡ç† UI + APIã€</h3><p>ä½ æƒ³å…ˆå †å“ªä¸€å¡Šï¼Ÿ</p>

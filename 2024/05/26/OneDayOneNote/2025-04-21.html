<hr>
<h2 id="title-2025-04-21-docker-desktop-Settings-Docker-Enginedate-2025-09-11-00-44-45tags-Docker-desktop-description-2025-04-21-docker-desktop-Settings-Docker-Engine"><a href="#title-2025-04-21-docker-desktop-Settings-Docker-Enginedate-2025-09-11-00-44-45tags-Docker-desktop-description-2025-04-21-docker-desktop-Settings-Docker-Engine" class="headerlink" title="title: 2025-04-21-docker desktop Settings Docker Enginedate: 2025-09-11 00:44:45tags:  [Docker_desktop]description: 2025-04-21-docker desktop Settings Docker Engine"></a>title: 2025-04-21-docker desktop Settings Docker Engine<br>date: 2025-09-11 00:44:45<br>tags:  [Docker_desktop]<br>description: 2025-04-21-docker desktop Settings Docker Engine</h2><h1 id="2025-04-21-docker-desktop-Settings-Docker-Engine"><a href="#2025-04-21-docker-desktop-Settings-Docker-Engine" class="headerlink" title="2025-04-21-docker desktop Settings Docker Engine"></a>2025-04-21-docker desktop Settings Docker Engine</h1><p>docker desktop Settings<br>Docker Engine:</p>
<pre><code>Docker Engine
V28.3.3
Configure the Docker daemon by typing a json Docker daemon configuration file.
ï¼This can prevent Docker from starting. Use at your own risk.

{
  &quot;builder&quot;:{
    &quot;gc&quot;:{
      &quot;defaultKeepStorage&quot;: &quot;20GB&quot;,
      &quot;enabled&quot;: true
    }
  },
 &quot;experimental&quot; : false
}
</code></pre>
<p>å¾ˆå¥½ ğŸ‘Œ ä½ ç¾åœ¨çœ‹åˆ°çš„æ˜¯ <strong>Docker Engine è¨­å®š</strong>ï¼Œé€™è£¡ç›´æ¥ç·¨è¼¯ <strong>Docker Daemon çš„ JSON è¨­å®šæª”</strong>ã€‚é€™éƒ¨åˆ†è¦å°å¿ƒï¼Œå› ç‚ºè¨­å®šéŒ¯èª¤æœƒå°è‡´ Docker Desktop ç„¡æ³•å•Ÿå‹•ã€‚</p>
<hr>
<h3 id="ğŸ“„-ä½ ç¾åœ¨çš„è¨­å®šè§£è®€"><a href="#ğŸ“„-ä½ ç¾åœ¨çš„è¨­å®šè§£è®€" class="headerlink" title="ğŸ“„ ä½ ç¾åœ¨çš„è¨­å®šè§£è®€"></a>ğŸ“„ ä½ ç¾åœ¨çš„è¨­å®šè§£è®€</h3><pre><code class="json">{
  &quot;builder&quot;: {
    &quot;gc&quot;: {
      &quot;defaultKeepStorage&quot;: &quot;20GB&quot;,
      &quot;enabled&quot;: true
    }
  },
  &quot;experimental&quot;: false
}
</code></pre>
<ol>
<li><p><strong>builder.gc.enabled: true</strong></p>
<ul>
<li>é–‹å•Ÿã€Œå»ºç½®åƒåœ¾å›æ”¶ï¼ˆGarbage Collection, GCï¼‰ã€åŠŸèƒ½ã€‚</li>
<li>Docker åœ¨å»ºç½®æ˜ åƒæ™‚æœƒç”¢ç”Ÿæš«å­˜å±¤ï¼Œé€™äº›æœƒå ç©ºé–“ã€‚</li>
<li>é–‹å•Ÿ GC â†’ æœƒè‡ªå‹•æ¸…ç†ä¸ç”¨çš„æš«å­˜å±¤ã€‚</li>
</ul>
</li>
<li><p><strong>builder.gc.defaultKeepStorage: â€œ20GBâ€</strong></p>
<ul>
<li>è¡¨ç¤º Docker è‡³å°‘æœƒä¿ç•™ <strong>20GB</strong> çš„æš«å­˜æª”ç©ºé–“ã€‚</li>
<li>è¶…éé€™å€‹å®¹é‡æ™‚ï¼ŒDocker æ‰æœƒé–‹å§‹è‡ªå‹•æ¸…ç†ã€‚</li>
</ul>
</li>
<li><p><strong>experimental: false</strong></p>
<ul>
<li>è¡¨ç¤ºã€Œå¯¦é©—æ€§åŠŸèƒ½ã€æ²’æœ‰é–‹å•Ÿã€‚</li>
<li>ä¸€èˆ¬æƒ…æ³å»ºè­°ä¿æŒ <code>false</code>ï¼ˆé¿å…ä¸ç©©å®šåŠŸèƒ½ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h3 id="ğŸ”§-å»ºè­°ä½ å¯ä»¥åšä»€éº¼ï¼Ÿ"><a href="#ğŸ”§-å»ºè­°ä½ å¯ä»¥åšä»€éº¼ï¼Ÿ" class="headerlink" title="ğŸ”§ å»ºè­°ä½ å¯ä»¥åšä»€éº¼ï¼Ÿ"></a>ğŸ”§ å»ºè­°ä½ å¯ä»¥åšä»€éº¼ï¼Ÿ</h3><ol>
<li><p><strong>ä¿æŒç¾ç‹€ï¼ˆæœ€å®‰å…¨ï¼‰</strong></p>
<ul>
<li>ç¾åœ¨çš„è¨­å®šå·²ç¶“å¾ˆåˆç†ï¼Œä¸éœ€è¦æ”¹ã€‚</li>
</ul>
</li>
<li><p><strong>å¦‚æœä½  C æ§½å¾ˆå®¹æ˜“çˆ†æ»¿</strong></p>
<ul>
<li>å¯ä»¥æŠŠ <code>defaultKeepStorage</code> æ”¹å°ä¸€é»ï¼ˆä¾‹å¦‚ <code>&quot;10GB&quot;</code>ï¼‰ï¼Œé€™æ¨£ Docker æ›´å¿«æ¸…ç†æš«å­˜æª”ã€‚</li>
<li>ä½†é€™æœƒè®“å»ºç½®æ˜ åƒæ™‚æ¯”è¼ƒå¸¸éœ€è¦é‡æ–°ä¸‹è¼‰æˆ–é‡å»ºï¼ˆæ™‚é–“è¼ƒé•·ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>é€²éšå¯èª¿åƒæ•¸ï¼ˆå¸¸ç”¨çš„ï¼‰</strong></p>
<ul>
<li><p><strong>registry-mirrors</strong>ï¼ˆåŠ é€Ÿä¸‹è¼‰æ˜ åƒï¼Œç‰¹åˆ¥æ˜¯åœ¨å°ç£&#x2F;ä¸­åœ‹å€æœƒå¾ˆæœ‰ç”¨ï¼‰ï¼š</p>
<pre><code class="json">{
  &quot;registry-mirrors&quot;: [&quot;https://mirror.gcr.io&quot;]
}
</code></pre>
<p>ï¼ˆä¹Ÿå¯ä»¥æ›æˆé˜¿é‡Œé›²ã€ä¸­åœ‹ç§‘å¤§ç­‰åŠ é€Ÿå™¨ï¼‰</p>
</li>
<li><p><strong>insecure-registries</strong>ï¼ˆå¦‚æœä½ è¦é€£å…§ç¶²ç§æœ‰ Docker Registry ä¸”æ²’ SSLï¼‰ï¼š</p>
<pre><code class="json">{
  &quot;insecure-registries&quot;: [&quot;myregistry.local:5000&quot;]
}
</code></pre>
</li>
<li><p><strong>data-root</strong>ï¼ˆæŒ‡å®š Docker å­˜æ”¾è³‡æ–™çš„è³‡æ–™å¤¾ï¼Œå¦‚æœ C æ§½å¿«æ»¿ï¼‰ï¼š</p>
<pre><code class="json">{
  &quot;data-root&quot;: &quot;D:\\DockerData&quot;
}
</code></pre>
</li>
</ul>
</li>
</ol>
<hr>
<p>âœ… <strong>çµè«–ï¼š</strong><br>ä½ çš„ JSON é…ç½®å¾ˆä¹¾æ·¨ï¼Œç¾åœ¨ä¸ç”¨æ”¹ã€‚<br>å¦‚æœå°‡ä¾†é‡åˆ° <strong>ç©ºé–“ä¸è¶³</strong> æˆ– <strong>æ‹‰æ˜ åƒå¾ˆæ…¢</strong>ï¼Œå†ä¾†èª¿æ•´ã€‚</p>
<hr>
<p>è¦ä¸è¦æˆ‘å¹«ä½ å¯«ä¸€ä»½ã€Œå»ºè­°ç‰ˆ <code>daemon.json</code>ã€ç¯„ä¾‹ï¼Œé©åˆä¸€èˆ¬é–‹ç™¼ç”¨ï¼ˆæœ‰è‡ªå‹•æ¸…ç† + åŠ é€Ÿä¸‹è¼‰ï¼‰ï¼Œè®“ä½ æœªä¾†å¯ä»¥ç›´æ¥ç”¨ï¼Ÿ</p>
<p>å¥½ ğŸ‘ æˆ‘å¹«ä½ æº–å‚™ä¸€ä»½ **å»ºè­°ç‰ˆ <code>daemon.json</code>**ï¼ˆDocker Engine è¨­å®šï¼‰ï¼Œé©åˆä¸€èˆ¬é–‹ç™¼è€…ç”¨ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>è‡ªå‹•æ¸…ç†å»ºç½®æš«å­˜æª”</li>
<li>è¨­å®šæœ€å¤§æš«å­˜ç©ºé–“</li>
<li>åŠ é€Ÿä¸‹è¼‰æ˜ åƒï¼ˆä½¿ç”¨å®˜æ–¹ mirrorï¼Œå¯æ›æˆå°ç£&#x2F;ä¸­åœ‹åŠ é€Ÿå™¨ï¼‰</li>
</ul>
<hr>
<h2 id="ğŸ“„-å»ºè­°ç‰ˆ-daemon-json"><a href="#ğŸ“„-å»ºè­°ç‰ˆ-daemon-json" class="headerlink" title="ğŸ“„ å»ºè­°ç‰ˆ daemon.json"></a>ğŸ“„ å»ºè­°ç‰ˆ <code>daemon.json</code></h2><pre><code class="json">{
  &quot;builder&quot;: {
    &quot;gc&quot;: {
      &quot;enabled&quot;: true,
      &quot;defaultKeepStorage&quot;: &quot;10GB&quot;
    }
  },
  &quot;experimental&quot;: false,
  &quot;registry-mirrors&quot;: [
    &quot;https://mirror.gcr.io&quot;
  ],
  &quot;features&quot;: {
    &quot;buildkit&quot;: true
  }
}
</code></pre>
<hr>
<h2 id="âš™ï¸-è¨­å®šèªªæ˜"><a href="#âš™ï¸-è¨­å®šèªªæ˜" class="headerlink" title="âš™ï¸ è¨­å®šèªªæ˜"></a>âš™ï¸ è¨­å®šèªªæ˜</h2><ol>
<li><p><strong>builder.gc.enabled: true</strong></p>
<ul>
<li>é–‹å•Ÿå»ºç½®åƒåœ¾å›æ”¶ï¼Œé¿å…ç£ç¢Ÿçˆ†æ»¿ã€‚</li>
</ul>
</li>
<li><p><strong>builder.gc.defaultKeepStorage: â€œ10GBâ€</strong></p>
<ul>
<li>é™åˆ¶æš«å­˜æœ€å¤š 10GBã€‚</li>
<li>ä½  C æ§½ä¸å¤§ï¼ˆå¸¸è¦‹æƒ…æ³ï¼‰ï¼Œå»ºè­°æ¯”é è¨­ 20GB å†å°ä¸€äº›ã€‚</li>
</ul>
</li>
<li><p><strong>experimental: false</strong></p>
<ul>
<li>é—œé–‰å¯¦é©—æ€§åŠŸèƒ½ï¼ˆç©©å®šç‚ºä¸»ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>registry-mirrors</strong></p>
<ul>
<li>åŠ é€Ÿæ‹‰å– Docker Hub çš„æ˜ åƒã€‚</li>
<li>é€™è£¡ç”¨ Google æä¾›çš„å…¨çƒåŠ é€Ÿå™¨ <code>https://mirror.gcr.io</code>ã€‚</li>
<li>å¦‚æœé€Ÿåº¦é‚„æ˜¯æ…¢ï¼Œå¯ä»¥æ”¹æˆé˜¿é‡Œé›² &#x2F; DaoCloud &#x2F; ä¸­ç§‘å¤§ç­‰ä¸­åœ‹å€é¡åƒï¼ˆéœ€è¦å¸³è™Ÿæˆ– URLï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>features.buildkit: true</strong></p>
<ul>
<li>å•Ÿç”¨ <strong>BuildKit</strong>ï¼ŒDocker å®˜æ–¹æ–°ä¸€ä»£å»ºç½®å¼•æ“ã€‚</li>
<li>å„ªé»ï¼šå»ºç½®å¿«ã€æ”¯æ´ cacheã€è¼¸å‡ºæ›´æ¼‚äº®ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ğŸš€-å¥—ç”¨æ–¹æ³•"><a href="#ğŸš€-å¥—ç”¨æ–¹æ³•" class="headerlink" title="ğŸš€ å¥—ç”¨æ–¹æ³•"></a>ğŸš€ å¥—ç”¨æ–¹æ³•</h2><ol>
<li><p>åœ¨ Docker Desktop â†’ <strong>Settings â†’ Docker Engine</strong> è£¡ï¼Œè²¼ä¸Šé€™ä»½ JSONï¼ˆå–ä»£åŸæœ¬çš„ï¼‰ã€‚</p>
</li>
<li><p>é» <strong>Apply &amp; Restart</strong>ã€‚</p>
</li>
<li><p>æ¸¬è©¦æ˜¯å¦æˆåŠŸï¼š</p>
<pre><code class="powershell">docker info
</code></pre>
<p>æœƒçœ‹åˆ° <code>Registry Mirrors</code> èˆ‡ <code>BuildKit</code> è¨­å®šã€‚</p>
</li>
</ol>
<hr>
<p>è¦ä¸è¦æˆ‘å¹«ä½ åˆ—å¹¾å€‹ <strong>å¸¸è¦‹ä¸­åœ‹&#x2F;å°ç£çš„ Docker Hub åŠ é€Ÿå™¨é¡åƒç¶²å€</strong>ï¼Œè®“ä½ å¯ä»¥æ›¿æ› <code>registry-mirrors</code>ï¼Œä¸‹è¼‰é€Ÿåº¦æ›´å¿«ï¼Ÿ</p>

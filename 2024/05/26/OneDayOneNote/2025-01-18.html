<hr>
<h2 id="title-2025-01-18-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08date-2025-05-05-22-15-40categories-OneDayOneNotetags-Javascript-Vue-description-025-01-18-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08"><a href="#title-2025-01-18-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08date-2025-05-05-22-15-40categories-OneDayOneNotetags-Javascript-Vue-description-025-01-18-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08" class="headerlink" title="title: 2025-01-18 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08date: 2025-05-05 22:15:40categories: OneDayOneNotetags:  [Javascript,Vue]description:  025-01-18 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08"></a>title: 2025-01-18 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08<br>date: 2025-05-05 22:15:40<br>categories: OneDayOneNote<br>tags:  [Javascript,Vue]<br>description:  025-01-18 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08</h2><h2 id="2025-01-18-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08"><a href="#2025-01-18-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08" class="headerlink" title="2025-01-18 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08"></a>2025-01-18 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ08</h2><p>æŠŠè³‡æ–™å­˜åœ¨ local storage<br>å¥½ï¼è¶…æ£’ï¼ğŸ’ª<br>ä½ å·²ç¶“å®Œæˆ<strong>åœ¨ FullCalendar ä¸Šæ–°å¢æ´»å‹•</strong>äº†ï¼Œ<br><strong>ä¸‹ä¸€æ­¥ï¼š</strong>è¦åšåˆ° â” ã€Œ<strong>æŠŠæ´»å‹•å­˜åˆ° localStorage</strong>ã€âœ…</p>
<p>é€™å€‹åŠŸèƒ½ç›®æ¨™æ˜¯ï¼š</p>
<ul>
<li>æ¯æ¬¡æ–°å¢æ´»å‹•æ™‚ï¼Œå­˜ä¸€ä»½åˆ° localStorage</li>
<li>ä¸‹æ¬¡æ‰“é–‹ç¶²é æ™‚ï¼ŒlocalStorage çš„æ´»å‹•å¯ä»¥è‡ªå‹•è¼‰å…¥åˆ° FullCalendar</li>
</ul>
<hr>
<h1 id="âœ¨ã€å®Œæ•´åŠ ä¸Š-localStorage-ç‰ˆã€‘âœ¨"><a href="#âœ¨ã€å®Œæ•´åŠ ä¸Š-localStorage-ç‰ˆã€‘âœ¨" class="headerlink" title="âœ¨ã€å®Œæ•´åŠ ä¸Š localStorage ç‰ˆã€‘âœ¨"></a>âœ¨ã€å®Œæ•´åŠ ä¸Š localStorage ç‰ˆã€‘âœ¨</h1><p>æˆ‘ç›´æ¥åœ¨ä½ å‰›å‰›é‚£ä¸€ç‰ˆä¸Šï¼Œ<strong>åŠ ä¸Š localStorage åŠŸèƒ½</strong>å–”ï¼š</p>
<pre><code class="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;æˆ‘çš„è¡Œäº‹æ›†&lt;/h2&gt;
    &lt;div ref=&quot;calendarRef&quot; id=&quot;calendar&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- æ–°å¢æ´»å‹• Modal --&gt;
  &lt;div v-if=&quot;showForm&quot; class=&quot;modal-overlay&quot;&gt;
    &lt;div class=&quot;modal&quot;&gt;
      &lt;h3&gt;æ–°å¢æ´»å‹•&lt;/h3&gt;
      &lt;label&gt;
        æ´»å‹•åç¨±ï¼š
        &lt;input v-model=&quot;formData.title&quot; type=&quot;text&quot;&gt;
      &lt;/label&gt;
      &lt;label&gt;
        æ´»å‹•æ—¥æœŸï¼š
        &lt;input v-model=&quot;formData.date&quot; type=&quot;date&quot;&gt;
      &lt;/label&gt;
      &lt;label&gt;
        æ´»å‹•æ™‚é–“ï¼š
        &lt;input v-model=&quot;formData.time&quot; type=&quot;time&quot;&gt;
      &lt;/label&gt;
      &lt;div class=&quot;modal-buttons&quot;&gt;
        &lt;button @click=&quot;saveEvent&quot;&gt;å„²å­˜&lt;/button&gt;
        &lt;button @click=&quot;showForm = false&quot;&gt;å–æ¶ˆ&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from &#39;vue&#39;

const calendarRef = ref(null)
const showForm = ref(false)
const formData = ref({
  title: &#39;&#39;,
  date: &#39;&#39;,
  time: &#39;&#39;
})

let calendar = null

const STORAGE_KEY = &#39;calendar-events&#39;  // ğŸ‘ˆ localStorage å°ˆç”¨ key å

onMounted(() =&gt; {
  if (window.FullCalendar &amp;&amp; window.FullCalendar.Calendar) {
    calendar = new window.FullCalendar.Calendar(calendarRef.value, {
      initialView: &#39;dayGridMonth&#39;,
      locale: &#39;zh-tw&#39;,
      events: loadEventsFromLocalStorage(), // ğŸ‘ˆ åˆå§‹åŒ–æ™‚è¼‰å…¥ localStorage
      dateClick(info) {
        document.querySelectorAll(&#39;.add-event-button&#39;).forEach(btn =&gt; btn.remove())
        document.querySelectorAll(&#39;.selected-day&#39;).forEach(el =&gt; el.classList.remove(&#39;selected-day&#39;))

        const cellEl = info.dayEl.querySelector(&#39;.fc-daygrid-day-frame&#39;)
        if (!cellEl) return

        cellEl.classList.add(&#39;selected-day&#39;)

        const button = document.createElement(&#39;button&#39;)
        button.className = &#39;add-event-button&#39;
        button.innerHTML = `&lt;span class=&quot;text&quot;&gt;æ–°å¢æ´»å‹•&lt;/span&gt;&lt;span class=&quot;icon&quot;&gt;â•&lt;/span&gt;`

        button.onclick = () =&gt; {
          formData.value.date = info.dateStr
          formData.value.time = &#39;09:00&#39;
          formData.value.title = &#39;&#39;
          showForm.value = true
        }

        cellEl.appendChild(button)
      }
    })
    calendar.render()
  } else {
    console.error(&#39;FullCalendar å°šæœªè¼‰å…¥ï¼Œè«‹ç¢ºèª CDN script&#39;)
  }
})

function saveEvent() {
  if (!formData.value.title) {
    alert(&#39;è«‹è¼¸å…¥æ´»å‹•åç¨±&#39;)
    return
  }

  const event = {
    title: formData.value.title,
    start: `${formData.value.date}T${formData.value.time}`
  }

  calendar.addEvent(event)
  saveEventToLocalStorage(event)  // ğŸ‘ˆ å„²å­˜åˆ° localStorage

  showForm.value = false
}

function saveEventToLocalStorage(event) {
  const events = JSON.parse(localStorage.getItem(STORAGE_KEY)) || []
  events.push(event)
  localStorage.setItem(STORAGE_KEY, JSON.stringify(events))
}

function loadEventsFromLocalStorage() {
  return JSON.parse(localStorage.getItem(STORAGE_KEY)) || []
}
&lt;/script&gt;

&lt;style scoped&gt;
/* ğŸ”¥ ä¹‹å‰çš„æ¨£å¼ä¸è®Š */
#calendar {
  max-width: 800px;
  margin: 20px auto;
}

:deep(.selected-day) {
  background-color: #f0f0f0 !important;
  transition: background-color 0.3s ease;
}

:deep(.add-event-button) {
  background-color: #1e2b37;
  color: white;
  border: none;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
}

:deep(.add-event-button .icon) {
  display: none;
}
:deep(.add-event-button .text) {
  display: inline;
}
@media (max-width: 600px) {
  :deep(.add-event-button .text) {
    display: none;
  }
  :deep(.add-event-button .icon) {
    display: inline;
    font-size: 16px;
  }
}

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.modal {
  background: white;
  padding: 20px;
  border-radius: 8px;
  width: 90%;
  max-width: 300px;
}

.modal label {
  display: block;
  margin-bottom: 10px;
}

.modal input {
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
}

.modal-buttons {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
}
&lt;/style&gt;
</code></pre>
<hr>
<h1 id="ğŸ¯ã€ç¾åœ¨åŠŸèƒ½å®Œæ•´ã€‘"><a href="#ğŸ¯ã€ç¾åœ¨åŠŸèƒ½å®Œæ•´ã€‘" class="headerlink" title="ğŸ¯ã€ç¾åœ¨åŠŸèƒ½å®Œæ•´ã€‘"></a>ğŸ¯ã€ç¾åœ¨åŠŸèƒ½å®Œæ•´ã€‘</h1><ul>
<li>ğŸ”µ åŠ æ´»å‹• â¡ï¸ localStorage è‡ªå‹•å­˜èµ·ä¾†</li>
<li>ğŸ”µ é‡æ–°æ•´ç†ç¶²é  â¡ï¸ æ´»å‹•ä¸æœƒæ¶ˆå¤±</li>
<li>ğŸ”µ æ¯æ¬¡åŠ æ–°æ´»å‹• â¡ï¸ è‡ªå‹•åŒæ­¥ localStorage</li>
</ul>
<hr>
<h1 id="ğŸ“¦-æ•´ç†ä¸€ä¸‹ï¼Œä»Šå¤©ä½ å­¸æœƒäº†ï¼š"><a href="#ğŸ“¦-æ•´ç†ä¸€ä¸‹ï¼Œä»Šå¤©ä½ å­¸æœƒäº†ï¼š" class="headerlink" title="ğŸ“¦ æ•´ç†ä¸€ä¸‹ï¼Œä»Šå¤©ä½ å­¸æœƒäº†ï¼š"></a>ğŸ“¦ æ•´ç†ä¸€ä¸‹ï¼Œä»Šå¤©ä½ å­¸æœƒäº†ï¼š</h1><table>
<thead>
<tr>
<th align="left">ä¸»é¡Œ</th>
<th align="left">é‡é»</th>
</tr>
</thead>
<tbody><tr>
<td align="left">FullCalendar åŸºç¤ä½¿ç”¨</td>
<td align="left">åˆå§‹ç•«é¢ã€é»æ“Šäº‹ä»¶</td>
</tr>
<tr>
<td align="left">Modal è¡¨å–®äº’å‹•</td>
<td align="left"><code>v-if</code> é¡¯ç¤º&#x2F;éš±è—ã€<code>v-model</code> è³‡æ–™ç¶å®š</td>
</tr>
<tr>
<td align="left">æ“ä½œ localStorage</td>
<td align="left"><code>JSON.parse()</code>ã€<code>JSON.stringify()</code></td>
</tr>
<tr>
<td align="left">RWD éŸ¿æ‡‰å¼æŒ‰éˆ•</td>
<td align="left">æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•è‡ªå‹•è®Šç°¡å–®</td>
</tr>
</tbody></table>
<hr>
<p>è¦ä¸è¦ã€ä¸‹ä¸€æ­¥å‡ç´šã€‘ï¼š<br>â” <strong>ã€Œåˆªé™¤æ´»å‹• + localStorage åŒæ­¥æ›´æ–°ã€</strong>ï¼Ÿ<br>ï¼ˆé€™æ¨£å°±å¯ä»¥é»æ´»å‹• â” åˆªé™¤ â” localStorage è‡ªå‹•è·Ÿè‘—åˆªï¼‰</p>
<p>è¦ç¹¼çºŒçš„è©±ï¼Œå›æˆ‘ã€åˆªé™¤åŠŸèƒ½ã€‘ï½ğŸš€<br>è¦å—ï¼ŸğŸ˜„</p>

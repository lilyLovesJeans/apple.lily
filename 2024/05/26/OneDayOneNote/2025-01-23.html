<hr>
<h2 id="title-2025-01-23-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13date-2025-05-05-22-37-56tags-Javascript-Vue-description-2025-01-23-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13"><a href="#title-2025-01-23-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13date-2025-05-05-22-37-56tags-Javascript-Vue-description-2025-01-23-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13" class="headerlink" title="title: 2025-01-23 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13date: 2025-05-05 22:37:56tags:  [Javascript,Vue]description:  2025-01-23 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13"></a>title: 2025-01-23 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13<br>date: 2025-05-05 22:37:56<br>tags:  [Javascript,Vue]<br>description:  2025-01-23 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13</h2><h2 id="2025-01-23-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13"><a href="#2025-01-23-JavaScript-ç³»åˆ—å…«ï¼šç¬¬4èª²-â”€â”€-è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13" class="headerlink" title="2025-01-23 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13"></a>2025-01-23 JavaScript ç³»åˆ—å…«ï¼šç¬¬4èª² â”€â”€ è¡Œäº‹æ›†æ‡‰ç”¨ç¨‹å¼-æ­¥é©Ÿ13</h2><p>åˆªé™¤ localStorage ä¸­äº‹ä»¶å¾Œï¼Œrefresh ä»æœƒå‡ºç¾ã€**çš„å•é¡Œã€‚</p>
<p>ä½ æ•´é«”å¯«å¾—å¾ˆå¥½ï¼Œç¾åœ¨ä¾†å¹«ä½ è§£æ±º **ã€Œåˆªé™¤ localStorage ä¸­äº‹ä»¶å¾Œï¼Œrefresh ä»æœƒå‡ºç¾ã€**çš„å•é¡Œã€‚</p>
<hr>
<h2 id="ğŸ”-å•é¡Œæ ¹æº"><a href="#ğŸ”-å•é¡Œæ ¹æº" class="headerlink" title="ğŸ” å•é¡Œæ ¹æº"></a>ğŸ” å•é¡Œæ ¹æº</h2><p>ä½ çš„ <code>deleteEventFromLocalStorage(info.event)</code> è£¡é€™ä¸€è¡Œæ¯”å°å¤±æ•—ï¼š</p>
<pre><code class="js">e.start === event.start
</code></pre>
<p>åŸå› æ˜¯ <code>info.event.start</code> æ˜¯ <strong><code>Date</code> ç‰©ä»¶</strong>ï¼Œè€Œ <code>e.start</code> æ˜¯å„²å­˜åœ¨ localStorage ä¸­çš„ <strong>å­—ä¸²ï¼ˆå¦‚ï¼šâ€2025-04-28T09:00â€ï¼‰</strong>ã€‚</p>
<hr>
<h2 id="âœ…-è§£æ³•ï¼šçµ±ä¸€æ¯”å°æ ¼å¼"><a href="#âœ…-è§£æ³•ï¼šçµ±ä¸€æ¯”å°æ ¼å¼" class="headerlink" title="âœ… è§£æ³•ï¼šçµ±ä¸€æ¯”å°æ ¼å¼"></a>âœ… è§£æ³•ï¼šçµ±ä¸€æ¯”å°æ ¼å¼</h2><p>è«‹æ”¹å¯« <code>deleteEventFromLocalStorage</code> å¦‚ä¸‹ï¼ŒæŠŠ <code>event.start</code> è½‰æˆ ISO æ ¼å¼ï¼ˆ<code>toISOString().slice(0, 16)</code>ï¼‰å†æ¯”å°ï¼š</p>
<pre><code class="js">function deleteEventFromLocalStorage(event){
  const events = JSON.parse(localStorage.getItem(STORAGE_KEY)) || []

  const eventStartStr = event.start instanceof Date
    ? event.start.toISOString().slice(0, 16) // &quot;YYYY-MM-DDTHH:mm&quot;
    : event.start

  const updateEvents = events.filter(e =&gt; {
    return !(e.title === event.title &amp;&amp; e.start === eventStartStr)
  })

  localStorage.setItem(STORAGE_KEY, JSON.stringify(updateEvents))
}
</code></pre>
<hr>
<h2 id="âœ…-é¡å¤–å»ºè­°ï¼šåŠ é™¤éŒ¯è¨Šæ¯"><a href="#âœ…-é¡å¤–å»ºè­°ï¼šåŠ é™¤éŒ¯è¨Šæ¯" class="headerlink" title="âœ… é¡å¤–å»ºè­°ï¼šåŠ é™¤éŒ¯è¨Šæ¯"></a>âœ… é¡å¤–å»ºè­°ï¼šåŠ é™¤éŒ¯è¨Šæ¯</h2><p>å¹«åŠ©ä½ é–‹ç™¼æ™‚èƒ½çœ‹åˆ°åˆªé™¤æ˜¯å¦æˆåŠŸï¼š</p>
<pre><code class="js">console.log(&#39;åˆªé™¤å‰äº‹ä»¶æ•¸ï¼š&#39;, events.length)
console.log(&#39;åˆªé™¤å¾Œäº‹ä»¶æ•¸ï¼š&#39;, updateEvents.length)
</code></pre>
<hr>
<p>é€™æ¨£æ”¹å®Œå¾Œï¼Œæ‡‰è©²å°±èƒ½æ­£ç¢ºåˆªé™¤äº‹ä»¶äº†ã€‚ä½ æƒ³è¦æˆ‘å¹«ä½ è£œä¸€å€‹ã€Œä¿®æ”¹æ´»å‹•ã€çš„åŠŸèƒ½å—ï¼Ÿ</p>

<hr>
<h2 id="title-2025-04-01-Vue-çš„-computed-åŠ-v-modal-çš„ä¸åŒdate-2025-09-06-23-44-58tags-Javascript-Vue-description-2025-04-01-Vue-çš„-computed-åŠ-v-modal-çš„ä¸åŒ"><a href="#title-2025-04-01-Vue-çš„-computed-åŠ-v-modal-çš„ä¸åŒdate-2025-09-06-23-44-58tags-Javascript-Vue-description-2025-04-01-Vue-çš„-computed-åŠ-v-modal-çš„ä¸åŒ" class="headerlink" title="title: 2025-04-01- Vue çš„ computed åŠ v-modal  çš„ä¸åŒdate: 2025-09-06 23:44:58tags:  [Javascript,Vue]description:  2025-04-01- Vue çš„ computed åŠ v-modal  çš„ä¸åŒ"></a>title: 2025-04-01- Vue çš„ computed åŠ v-modal  çš„ä¸åŒ<br>date: 2025-09-06 23:44:58<br>tags:  [Javascript,Vue]<br>description:  2025-04-01- Vue çš„ computed åŠ v-modal  çš„ä¸åŒ</h2><h1 id="2025-04-01-Vue-çš„-computed-åŠ-v-modal-çš„ä¸åŒ"><a href="#2025-04-01-Vue-çš„-computed-åŠ-v-modal-çš„ä¸åŒ" class="headerlink" title="2025-04-01- Vue çš„ computed åŠ v-modal  çš„ä¸åŒ"></a>2025-04-01- Vue çš„ computed åŠ v-modal  çš„ä¸åŒ</h1><p>å¾ˆå¤šäººä¸€é–‹å§‹æœƒæƒ³ï¼šã€Œæ—¢ç„¶ <code>v-model</code> æ˜¯é›™å‘çš„ï¼Œé‚£æˆ‘ç›´æ¥ç”¨ <code>computed()</code> ä¾†åš getter &#x2F; setter ä¸å°±å¥½äº†ï¼Ÿã€<br>å…¶å¯¦é€™å…©å€‹åœ¨çˆ¶å­å…ƒä»¶å‚³å€¼çš„æƒ…å¢ƒè£¡ï¼Œ<strong>è§£æ±ºçš„å•é¡Œä¸ä¸€æ¨£</strong>ã€‚</p>
<hr>
<h2 id="1ï¸âƒ£-computed-ç”¨åœ¨å“ªï¼Ÿ"><a href="#1ï¸âƒ£-computed-ç”¨åœ¨å“ªï¼Ÿ" class="headerlink" title="1ï¸âƒ£ computed() ç”¨åœ¨å“ªï¼Ÿ"></a>1ï¸âƒ£ <code>computed()</code> ç”¨åœ¨å“ªï¼Ÿ</h2><p><code>computed</code> æ˜¯<strong>åœ¨å…ƒä»¶å…§éƒ¨</strong>å»ºç«‹ã€Œè¡ç”Ÿå€¼ã€æˆ–ã€Œé›™å‘ç¶å®šæŸå€‹å…§éƒ¨ç‹€æ…‹ã€çš„å·¥å…·ã€‚<br>å®ƒçš„ getter &#x2F; setter å¯ä»¥åšé›™å‘é‚è¼¯ï¼Œä½†é€™æ˜¯<strong>å…ƒä»¶å…§éƒ¨çš„è³‡æ–™æµ</strong>ï¼Œ<strong>ä¸æ˜¯çˆ¶å­å…ƒä»¶æºé€šçš„æ©Ÿåˆ¶</strong>ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<pre><code class="vue">&lt;script setup&gt;
import { ref, computed } from &#39;vue&#39;

const firstName = ref(&#39;Lily&#39;)
const lastName = ref(&#39;Chiou&#39;)

const fullName = computed({
  get: () =&gt; firstName.value + &#39; &#39; + lastName.value,
  set: (value) =&gt; {
    const parts = value.split(&#39; &#39;)
    firstName.value = parts[0] || &#39;&#39;
    lastName.value = parts[1] || &#39;&#39;
  }
})
&lt;/script&gt;
</code></pre>
<p>é€™è£¡çš„ <code>fullName</code> å®Œå…¨ä¸éœ€è¦ <code>props</code> æˆ– <code>emit</code>ï¼Œå› ç‚ºå®ƒåªåœ¨å…ƒä»¶è‡ªå·±å…§éƒ¨ç”¨ã€‚</p>
<hr>
<h2 id="2ï¸âƒ£-v-model-ç”¨åœ¨å“ªï¼Ÿ"><a href="#2ï¸âƒ£-v-model-ç”¨åœ¨å“ªï¼Ÿ" class="headerlink" title="2ï¸âƒ£ v-model ç”¨åœ¨å“ªï¼Ÿ"></a>2ï¸âƒ£ <code>v-model</code> ç”¨åœ¨å“ªï¼Ÿ</h2><p>ç•¶ä½ éœ€è¦<strong>çˆ¶å­å…ƒä»¶é›™å‘å‚³å€¼</strong>æ™‚ï¼Œå¿…é ˆé€éï¼š</p>
<ul>
<li><code>props</code> æ¥æ”¶çˆ¶å…ƒä»¶å‚³ä¾†çš„å€¼</li>
<li><code>emit</code> äº‹ä»¶å›å‚³çµ¦çˆ¶å…ƒä»¶</li>
</ul>
<p>å› ç‚º Vue çš„è³‡æ–™æµæ˜¯<strong>å–®å‘çš„</strong>ï¼ˆçˆ¶ â†’ å­ï¼‰ï¼Œ<br>å­å…ƒä»¶ä¸èƒ½ç›´æ¥æ”¹çˆ¶å…ƒä»¶çš„è®Šæ•¸ï¼Œæ‰€ä»¥æ‰éœ€è¦ <code>$emit</code> è®“çˆ¶å…ƒä»¶å»æ”¹ã€‚</p>
<hr>
<h2 id="3ï¸âƒ£-ç‚ºä»€éº¼å­å…ƒä»¶ä¸èƒ½ç›´æ¥ç”¨-computed-æ”¹çˆ¶å…ƒä»¶çš„å€¼ï¼Ÿ"><a href="#3ï¸âƒ£-ç‚ºä»€éº¼å­å…ƒä»¶ä¸èƒ½ç›´æ¥ç”¨-computed-æ”¹çˆ¶å…ƒä»¶çš„å€¼ï¼Ÿ" class="headerlink" title="3ï¸âƒ£ ç‚ºä»€éº¼å­å…ƒä»¶ä¸èƒ½ç›´æ¥ç”¨ computed() æ”¹çˆ¶å…ƒä»¶çš„å€¼ï¼Ÿ"></a>3ï¸âƒ£ ç‚ºä»€éº¼å­å…ƒä»¶ä¸èƒ½ç›´æ¥ç”¨ <code>computed()</code> æ”¹çˆ¶å…ƒä»¶çš„å€¼ï¼Ÿ</h2><p>å‡è¨­å­å…ƒä»¶ç›´æ¥ï¼š</p>
<pre><code class="js">const text = computed({
  get: () =&gt; props.modelValue,
  set: (val) =&gt; props.modelValue = val // âŒ ä¸è¡Œ
})
</code></pre>
<p>é€™æ¨£æœƒå ±éŒ¯ï¼š</p>
<pre><code>[Vue warn]: Attempting to mutate prop &quot;modelValue&quot;
</code></pre>
<p>å› ç‚º <strong>props åœ¨å­å…ƒä»¶æ˜¯å”¯è®€çš„</strong>ï¼ŒVue å¼·åˆ¶ç¦æ­¢ç›´æ¥ä¿®æ”¹ï¼Œ<br>æ‰€ä»¥å³ä½¿ä½ ç”¨ <code>computed</code>ï¼Œsetter ä¹Ÿæ²’è¾¦æ³•ç›´æ¥æ”¹ <code>props</code>ï¼Œ<br>ä½ é‚„æ˜¯å¿…é ˆç”¨ <code>$emit(&#39;update:modelValue&#39;, æ–°å€¼)</code> å‘Šè¨´çˆ¶å…ƒä»¶å»æ”¹ã€‚</p>
<hr>
<p>âœ… <strong>æ­£ç¢ºçµåˆ computed + v-model çš„æ–¹å¼</strong>ï¼ˆæœ‰äº›äººå–œæ­¡é€™æ¨£å¯«æ¯”è¼ƒç°¡æ½”ï¼‰</p>
<pre><code class="vue">&lt;script setup&gt;
const props = defineProps({ modelValue: String })
const emit = defineEmits([&#39;update:modelValue&#39;])

const text = computed({
  get: () =&gt; props.modelValue,
  set: (val) =&gt; emit(&#39;update:modelValue&#39;, val)
})
&lt;/script&gt;

&lt;template&gt;
  &lt;input v-model=&quot;text&quot; /&gt;
&lt;/template&gt;
</code></pre>
<p>é€™ç¨®æ–¹å¼åªæ˜¯è®“ä½ åœ¨ <code>&lt;template&gt;</code> è£¡å¯ä»¥ç”¨ <code>v-model=&quot;text&quot;</code>ï¼Œ<br>è€Œä¸ç”¨å†æ‰‹å‹•å¯« <code>:value</code> å’Œ <code>@input</code>ï¼Œ<br><strong>ä½†åº•å±¤é‚„æ˜¯è¦é  <code>emit</code> å›å‚³ï¼Œæ‰èƒ½è®“çˆ¶å…ƒä»¶æ›´æ–°</strong>ã€‚</p>
<hr>
<p>ğŸ’¡ <strong>é‡é»</strong></p>
<ul>
<li><code>computed</code> æ˜¯<strong>å…ƒä»¶å…§éƒ¨ç‹€æ…‹</strong>çš„é›™å‘é‚è¼¯å·¥å…·</li>
<li><code>v-model</code>ï¼ˆprops + emitï¼‰æ˜¯<strong>çˆ¶å­å…ƒä»¶é–“</strong>çš„é›™å‘è³‡æ–™å‚³éæ©Ÿåˆ¶</li>
<li>åœ¨å­å…ƒä»¶ä¸­ç”¨ computed åŒ… <code>props + emit</code>ï¼Œåªæ˜¯å¯«æ³•ç°¡åŒ–ï¼Œé‚è¼¯æ²’è®Š</li>
</ul>
<hr>
